<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Carbuncle::Sprite
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/mruby.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Carbuncle::Sprite";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/mruby.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Carbuncle.html" title="Carbuncle (module)">Carbuncle</a></span></span>
     &raquo; 
    <span class="title">Sprite</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Carbuncle::Sprite
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Carbuncle::Sprite</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>mrbgems/carbuncle-graphics/src/sprite.c<span class="defines">,<br />
  mrbgems/carbuncle-graphics/mrblib/sprite.rb</span>
</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#angle-instance_method" title="#angle (instance method)">#<strong>angle</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#angle=-instance_method" title="#angle= (instance method)">#<strong>angle=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#color-instance_method" title="#color (instance method)">#<strong>color</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#color=-instance_method" title="#color= (instance method)">#<strong>color=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispose-instance_method" title="#dispose (instance method)">#<strong>dispose</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disposed%3F-instance_method" title="#disposed? (instance method)">#<strong>disposed?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#draw-instance_method" title="#draw (instance method)">#<strong>draw</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#h-instance_method" title="#h (instance method)">#<strong>h</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#height-instance_method" title="#height (instance method)">#<strong>height</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#opacity-instance_method" title="#opacity (instance method)">#<strong>opacity</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#opacity=-instance_method" title="#opacity= (instance method)">#<strong>opacity=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ox-instance_method" title="#ox (instance method)">#<strong>ox</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ox=-instance_method" title="#ox= (instance method)">#<strong>ox=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#oy-instance_method" title="#oy (instance method)">#<strong>oy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#oy=-instance_method" title="#oy= (instance method)">#<strong>oy=</strong>(value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pivot-instance_method" title="#pivot (instance method)">#<strong>pivot</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pivot=-instance_method" title="#pivot= (instance method)">#<strong>pivot=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#position-instance_method" title="#position (instance method)">#<strong>position</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#position=-instance_method" title="#position= (instance method)">#<strong>position=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scale-instance_method" title="#scale (instance method)">#<strong>scale</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scale=-instance_method" title="#scale= (instance method)">#<strong>scale=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#src_rect-instance_method" title="#src_rect (instance method)">#<strong>src_rect</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#src_rect=-instance_method" title="#src_rect= (instance method)">#<strong>src_rect=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#texture-instance_method" title="#texture (instance method)">#<strong>texture</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#texture=-instance_method" title="#texture= (instance method)">#<strong>texture=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#w-instance_method" title="#w (instance method)">#<strong>w</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#width-instance_method" title="#width (instance method)">#<strong>width</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 108</span>

static mrb_value
mrb_sprite_initialize(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value position, scale, pivot, src_rect, color;
  mrb_value texture = mrb_nil_value();
  mrb_float width = <span style="color:#00D">0</span>;
  mrb_float height = <span style="color:#00D">0</span>;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|o</span><span style="color:#710">&quot;</span></span>, &amp;texture);
  <span style="color:#080;font-weight:bold">if</span> (!mrb_nil_p(texture))
  {
    <span style="color:#036;font-weight:bold">Texture2D</span> *data = mrb_carbuncle_get_texture(mrb, texture);
    width = data-&gt;width;
    height = data-&gt;height;
  }
  position = mrb_carbuncle_point_new(mrb, <span style="color:#00D">0</span>, <span style="color:#00D">0</span>);
  scale = mrb_carbuncle_point_new(mrb, <span style="color:#00D">1</span>, <span style="color:#00D">1</span>);
  pivot = mrb_carbuncle_point_new(mrb, <span style="color:#00D">0</span>, <span style="color:#00D">0</span>);
  src_rect =  mrb_carbuncle_rect_new(mrb, <span style="color:#00D">0</span>, <span style="color:#00D">0</span>, width, height);
  color = mrb_carbuncle_color_new(mrb, <span style="color:#00D">255</span>, <span style="color:#00D">255</span>, <span style="color:#00D">255</span>, <span style="color:#00D">255</span>);
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">TEXTURE_SYMBOL</span>, texture);
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">POSITION_SYMBOL</span>, position);
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">SCALE_SYMBOL</span>, scale);
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">PIVOT_SYMBOL</span>, pivot);
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">SRC_RECT_SYMBOL</span>, src_rect);
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">COLOR_SYMBOL</span>, color);
  struct mrb_Sprite *sprite = mrb_malloc(mrb, sizeof *sprite);
  sprite-&gt;angle = <span style="color:#00D">0</span>;
  sprite-&gt;position = mrb_carbuncle_get_point(mrb, position);
  sprite-&gt;scale = mrb_carbuncle_get_point(mrb, scale);
  sprite-&gt;pivot = mrb_carbuncle_get_point(mrb, pivot);
  sprite-&gt;src_rect = mrb_carbuncle_get_rect(mrb, src_rect);
  sprite-&gt;color = mrb_carbuncle_get_color(mrb, color);
  DATA_PTR(<span style="color:#069">self</span>) = sprite;
  DATA_TYPE(<span style="color:#069">self</span>) = &amp;sprite_data_type;
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="angle-instance_method">
  
    #<strong>angle</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195
196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 193</span>

static mrb_value
mrb_sprite_get_angle(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, data-&gt;angle);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="angle=-instance_method">
  
    #<strong>angle=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 283</span>

static mrb_value
mrb_sprite_set_angle(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_float value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">f</span><span style="color:#710">&quot;</span></span>, &amp;value);
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  data-&gt;angle = value;
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, value);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="color-instance_method">
  
    #<strong>color</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 186</span>

static mrb_value
mrb_sprite_get_color(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">COLOR_SYMBOL</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="color=-instance_method">
  
    #<strong>color=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


272
273
274
275
276
277
278
279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 272</span>

static mrb_value
mrb_sprite_set_color(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">Color</span> *color = mrb_carbuncle_get_color(mrb, value);
  data-&gt;color = color;
  <span style="color:#080;font-weight:bold">return</span> value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispose-instance_method">
  
    #<strong>dispose</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


335
336
337
338
339
340
341
342</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 335</span>

static mrb_value
mrb_sprite_dispose(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *sprite = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  mrb_free(mrb, sprite);
  DATA_PTR(<span style="color:#069">self</span>) = <span style="color:#036;font-weight:bold">NULL</span>;
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disposed?-instance_method">
  
    #<strong>disposed?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


145
146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 145</span>

static mrb_value
mrb_sprite_disposedQ(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(!DATA_PTR(<span style="color:#069">self</span>));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="draw-instance_method">
  
    #<strong>draw</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 300</span>

static mrb_value
mrb_sprite_draw(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  mrb_value texture = mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">TEXTURE_SYMBOL</span>);
  <span style="color:#080;font-weight:bold">if</span> (mrb_nil_p(texture))
  {
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
  }
  <span style="color:#036;font-weight:bold">Texture2D</span> *texture_data = mrb_carbuncle_get_texture(mrb, texture);
  <span style="color:#036;font-weight:bold">Rectangle</span> src_rect = (<span style="color:#036;font-weight:bold">Rectangle</span>){
    data-&gt;src_rect-&gt;x,
    data-&gt;src_rect-&gt;y,
    data-&gt;src_rect-&gt;width  * (data-&gt;scale-&gt;x &lt; <span style="color:#00D">0</span> ? <span style="color:#00D">-1</span> : <span style="color:#00D">1</span>),
    data-&gt;src_rect-&gt;height * (data-&gt;scale-&gt;y &lt; <span style="color:#00D">0</span> ? <span style="color:#00D">-1</span> : <span style="color:#00D">1</span>)
  };
  <span style="color:#036;font-weight:bold">Rectangle</span> dst_rect = (<span style="color:#036;font-weight:bold">Rectangle</span>){
    data-&gt;position-&gt;x,
    data-&gt;position-&gt;y,
    data-&gt;src_rect-&gt;width * fabsf(data-&gt;scale-&gt;x),
    data-&gt;src_rect-&gt;height * fabsf(data-&gt;scale-&gt;y)
  };
  <span style="color:#036;font-weight:bold">Vector2</span> origin = (<span style="color:#036;font-weight:bold">Vector2</span>){
    data-&gt;pivot-&gt;x * dst_rect.width,
    data-&gt;pivot-&gt;y * dst_rect.height
  };
<span style="color:#777">#ifdef CARBUNCLE_DEBUG</span>
  mrb_carbuncle_draw_debug_rect(dst_rect, origin, data-&gt;angle);
<span style="color:#777">#endif</span>
  rlEnableTexture(texture_data-&gt;id);
  mrb_carbuncle_sprite_draw_texture(*texture_data, src_rect, dst_rect, origin, data-&gt;angle, *(data-&gt;color));
  rlDisableTexture();
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="h-instance_method">
  
    #<strong>h</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 207</span>

static mrb_value
mrb_sprite_get_height(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, data-&gt;src_rect-&gt;height);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="height-instance_method">
  
    #<strong>height</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 207</span>

static mrb_value
mrb_sprite_get_height(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, data-&gt;src_rect-&gt;height);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="opacity-instance_method">
  
    #<strong>opacity</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/mrblib/sprite.rb', line 7</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">opacity</span>
  color.alpha
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="opacity=-instance_method">
  
    #<strong>opacity=</strong>(value)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/mrblib/sprite.rb', line 11</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">opacity=</span>(value)
  color.alpha = value
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ox-instance_method">
  
    #<strong>ox</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/mrblib/sprite.rb', line 15</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">ox</span>
  pivot.x * width
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ox=-instance_method">
  
    #<strong>ox=</strong>(value)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/mrblib/sprite.rb', line 23</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">ox=</span>(value)
  pivot.x = value.to_f / width
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="oy-instance_method">
  
    #<strong>oy</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/mrblib/sprite.rb', line 19</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">oy</span>
  pivot.y * height
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="oy=-instance_method">
  
    #<strong>oy=</strong>(value)  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/mrblib/sprite.rb', line 27</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">oy=</span>(value)
  pivot.y = value.to_f / height
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pivot-instance_method">
  
    #<strong>pivot</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174
175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 172</span>

static mrb_value
mrb_sprite_get_pivot(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">PIVOT_SYMBOL</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pivot=-instance_method">
  
    #<strong>pivot=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253
254
255
256
257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 250</span>

static mrb_value
mrb_sprite_set_pivot(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">Vector2</span> *point = mrb_carbuncle_get_point(mrb, value);
  data-&gt;pivot = point;
  <span style="color:#080;font-weight:bold">return</span> value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="position-instance_method">
  
    #<strong>position</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 158</span>

static mrb_value
mrb_sprite_get_position(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">POSITION_SYMBOL</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="position=-instance_method">
  
    #<strong>position=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


228
229
230
231
232
233
234
235
236
237</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 228</span>

static mrb_value
mrb_sprite_set_position(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">Vector2</span> *point = mrb_carbuncle_get_point(mrb, value);
  data-&gt;position = point;
  <span style="color:#080;font-weight:bold">return</span> value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scale-instance_method">
  
    #<strong>scale</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 165</span>

static mrb_value
mrb_sprite_get_scale(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">SCALE_SYMBOL</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scale=-instance_method">
  
    #<strong>scale=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


239
240
241
242
243
244
245
246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 239</span>

static mrb_value
mrb_sprite_set_scale(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">Vector2</span> *point = mrb_carbuncle_get_point(mrb, value);
  data-&gt;scale = point;
  <span style="color:#080;font-weight:bold">return</span> value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="src_rect-instance_method">
  
    #<strong>src_rect</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 179</span>

static mrb_value
mrb_sprite_get_src_rect(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">SRC_RECT_SYMBOL</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="src_rect=-instance_method">
  
    #<strong>src_rect=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 261</span>

static mrb_value
mrb_sprite_set_src_rect(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  struct <span style="color:#036;font-weight:bold">Rectangle</span> *rect = mrb_carbuncle_get_rect(mrb, value);
  data-&gt;src_rect = rect;
  <span style="color:#080;font-weight:bold">return</span> value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="texture-instance_method">
  
    #<strong>texture</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


151
152
153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 151</span>

static mrb_value
mrb_sprite_get_texture(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_iv_get(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">TEXTURE_SYMBOL</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="texture=-instance_method">
  
    #<strong>texture=</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217
218
219
220
221
222
223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 214</span>

static mrb_value
mrb_sprite_set_texture(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value value;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;value);
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">if</span> (!mrb_nil_p(value))
  {
    mrb_carbuncle_get_texture(mrb, value);
  }
  mrb_iv_set(mrb, <span style="color:#069">self</span>, <span style="color:#036;font-weight:bold">TEXTURE_SYMBOL</span>, value);
  <span style="color:#080;font-weight:bold">return</span> value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    #<strong>update</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 293</span>

static mrb_value
mrb_sprite_update(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="w-instance_method">
  
    #<strong>w</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 200</span>

static mrb_value
mrb_sprite_get_width(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, data-&gt;src_rect-&gt;width);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="width-instance_method">
  
    #<strong>width</strong>  &#x21d2; <tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-graphics/src/sprite.c', line 200</span>

static mrb_value
mrb_sprite_get_width(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct mrb_Sprite *data = mrb_carbuncle_get_sprite(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, data-&gt;src_rect-&gt;width);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Dec 28 01:23:14 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 in <a href="https://github.com/sagmor/yard-mruby">mruby mode</a> 0.3.0 (ruby-2.6.2).
</div>

    </div>
  </body>
</html>