<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: String
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/mruby.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "String";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/mruby.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (S)</a> &raquo;
    
    
    <span class="title">String</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: String
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">String</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Comparable.html" title="Comparable (module)">Comparable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>mrblib/string.rb<span class="defines">,<br />
  src/string.c,<br /> mrbgems/mruby-sprintf/mrblib/string.rb,<br /> mrbgems/mruby-string-ext/mrblib/string.rb,<br /> mrbgems/carbuncle-support/mrblib/string.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>String</p>

<p>ISO 15.2.10</p>


  </div>
</div>
<div class="tags">
  

</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%25-instance_method" title="#% (instance method)">#<strong>%</strong>(args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#*-instance_method" title="#* (instance method)">#<strong>*</strong>(integer)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Copy—Returns a new <code>String</code> containing <i>integer</i> copies of the receiver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%2B-instance_method" title="#+ (instance method)">#<strong>+</strong>(other_str)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Concatenation—Returns a new <code>String</code> containing <i>other_str</i> concatenated to <i>str</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Append—Concatenates the given object to <i>str</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#<=>-instance_method" title="#&lt;=&gt; (instance method)">#<strong>&lt;=&gt;</strong>(other_str)  &#x21d2; -1, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Comparison—Returns -1 if <i>other_str</i> is less than, 0 if <i>other_str</i> is equal to, and +1 if <i>other_str</i> is greater than <i>str</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(obj)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Equality— If <i>obj</i> is not a <code>String</code>, returns <code>false</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Reference—If passed a single <code>Fixnum</code>, returns the code of the character at that position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Modify +self+ by replacing the content of +self+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__lines-instance_method" title="#__lines (instance method)">#<strong>__lines</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__sub_replace-instance_method" title="#__sub_replace (instance method)">#<strong>__sub_replace</strong>(pre, m, post)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>private method for gsub/sub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bytes-instance_method" title="#bytes (instance method)">#<strong>bytes</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns an array of bytes in <em>str</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bytesize-instance_method" title="#bytesize (instance method)">#<strong>bytesize</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#byteslice-instance_method" title="#byteslice (instance method)">#<strong>byteslice</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Byte Reference—If passed a single Integer, returns a substring of one byte at that position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#capitalize-instance_method" title="#capitalize (instance method)">#<strong>capitalize</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of <i>str</i> with the first character converted to uppercase and the remainder to lowercase.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#capitalize!-instance_method" title="#capitalize! (instance method)">#<strong>capitalize!</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Modifies <i>str</i> by converting the first character to uppercase and the remainder to lowercase.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#casecmp-instance_method" title="#casecmp (instance method)">#<strong>casecmp</strong>(str)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.casecmp(other_str)   -&gt; -1, 0, +1 or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#casecmp%3F-instance_method" title="#casecmp? (instance method)">#<strong>casecmp?</strong>(str)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:   str.casecmp?(other)  -&gt; true, false, or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chars-instance_method" title="#chars (instance method)">#<strong>chars</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chomp-instance_method" title="#chomp (instance method)">#<strong>chomp</strong>(separator = &quot;\n&quot;)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new <code>String</code> with the given record separator removed from the end of <i>str</i> (if present).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chomp!-instance_method" title="#chomp! (instance method)">#<strong>chomp!</strong>(separator = &quot;\n&quot;)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Modifies <i>str</i> in place as described for <code>String#chomp</code>, returning <i>str</i>, or <code>nil</code> if no modifications were made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chop-instance_method" title="#chop (instance method)">#<strong>chop</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new <code>String</code> with the last character removed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chop!-instance_method" title="#chop! (instance method)">#<strong>chop!</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Processes <i>str</i> as for <code>String#chop</code>, returning <i>str</i>, or <code>nil</code> if <i>str</i> is the empty string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#chr-instance_method" title="#chr (instance method)">#<strong>chr</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a one-character string at the beginning of the string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear-instance_method" title="#clear (instance method)">#<strong>clear</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    string.clear    -&gt;  string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#codepoints-instance_method" title="#codepoints (instance method)">#<strong>codepoints</strong>(&amp;block)  &#x21d2; Object </a>
    

    
      (also: #each_codepoint)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#concat-instance_method" title="#concat (instance method)">#<strong>concat</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Append—Concatenates the given object to <i>str</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count-instance_method" title="#count (instance method)">#<strong>count</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call_seq:   str.count([other_str])   -&gt; integer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cover%3F-instance_method" title="#cover? (instance method)">#<strong>cover?</strong>(obj)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns <code>true</code> if +obj+ is between the begin and end of the range.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete!-instance_method" title="#delete! (instance method)">#<strong>delete!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_prefix-instance_method" title="#delete_prefix (instance method)">#<strong>delete_prefix</strong>(prefix)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of <i>str</i> with leading <code>prefix</code> deleted.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_prefix!-instance_method" title="#delete_prefix! (instance method)">#<strong>delete_prefix!</strong>(prefix)  &#x21d2; self<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deletes leading <code>prefix</code> from <i>str</i>, returning <code>nil</code> if no change was made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_suffix-instance_method" title="#delete_suffix (instance method)">#<strong>delete_suffix</strong>(suffix)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of <i>str</i> with leading <code>suffix</code> deleted.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_suffix!-instance_method" title="#delete_suffix! (instance method)">#<strong>delete_suffix!</strong>(suffix)  &#x21d2; self<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Deletes trailing <code>suffix</code> from <i>str</i>, returning <code>nil</code> if no change was made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#downcase-instance_method" title="#downcase (instance method)">#<strong>downcase</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of <i>str</i> with all uppercase letters replaced with their lowercase counterparts.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#downcase!-instance_method" title="#downcase! (instance method)">#<strong>downcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Downcases the contents of <i>str</i>, returning <code>nil</code> if no changes were made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Produces a version of <i>str</i> with all nonprinting characters replaced by <code>\nnn</code> notation and all special characters escaped.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_byte-instance_method" title="#each_byte (instance method)">#<strong>each_byte</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Call the given block for each byte of +self+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_char-instance_method" title="#each_char (instance method)">#<strong>each_char</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Call the given block for each character of +self+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_line-instance_method" title="#each_line (instance method)">#<strong>each_line</strong>(separator = &quot;\n&quot;, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Calls the given block for each line and pass the respective line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns <code>true</code> if <i>str</i> has a length of zero.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#end_with%3F-instance_method" title="#end_with? (instance method)">#<strong>end_with?</strong>([suffixes])  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if +str+ ends with one of the +suffixes+ given.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eql%3F-instance_method" title="#eql? (instance method)">#<strong>eql?</strong>(other)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Two strings are equal if the have the same length and content.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getbyte-instance_method" title="#getbyte (instance method)">#<strong>getbyte</strong>(index)  &#x21d2; 0 .. 255 </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>returns the <i>index</i>th byte as an integer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gsub-instance_method" title="#gsub (instance method)">#<strong>gsub</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Replace all matches of +pattern+ with +replacement+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gsub!-instance_method" title="#gsub! (instance method)">#<strong>gsub!</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Replace all matches of +pattern+ with +replacement+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hash-instance_method" title="#hash (instance method)">#<strong>hash</strong>  &#x21d2; Fixnum </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Return a hash based on the string’s length and content.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hex-instance_method" title="#hex (instance method)">#<strong>hex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns <code>true</code> if <i>str</i> contains the given string or character.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(substring[, offset])  &#x21d2; Fixnum<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the index of the first occurrence of the given <i>substring</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#new (instance method)">#<strong>new</strong>(str = &quot;&quot;)  &#x21d2; String </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new string object containing a copy of <i>str</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_copy-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_str)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>s = “hello”         #=&gt; “hello”    s.replace “world”   #=&gt; “world”.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(idx, str)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     str.insert(index, other_str)   -&gt; str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a printable version of <em>str</em>, surrounded by quote marks, with special characters escaped.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#intern-instance_method" title="#intern (instance method)">#<strong>intern</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the <code>Symbol</code> corresponding to <i>str</i>, creating the symbol if it did not previously exist.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the last object in the range, or an array of the last +n+ elements.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Same as <code>sym.to_s.length</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lines-instance_method" title="#lines (instance method)">#<strong>lines</strong>(&amp;blk)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:    string.lines                -&gt;  array of string    string.lines       <td>s</td>
      <td>block    -&gt;  array of string.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ljust-instance_method" title="#ljust (instance method)">#<strong>ljust</strong>(idx, padstr = &#39; &#39;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     str.ljust(integer, padstr=’ ‘)   -&gt; new_str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lstrip-instance_method" title="#lstrip (instance method)">#<strong>lstrip</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.lstrip   -&gt; new_str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lstrip!-instance_method" title="#lstrip! (instance method)">#<strong>lstrip!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.lstrip!   -&gt; self or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next-instance_method" title="#next (instance method)">#<strong>next</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next!-instance_method" title="#succ (instance method)">#<strong>succ</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns next sequence of the string;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#oct-instance_method" title="#oct (instance method)">#<strong>oct</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ord-instance_method" title="#ord (instance method)">#<strong>ord</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#partition-instance_method" title="#partition (instance method)">#<strong>partition</strong>(sep)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prepend-instance_method" title="#prepend (instance method)">#<strong>prepend</strong>(arg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.prepend(other_str)  -&gt; str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#replace-instance_method" title="#replace (instance method)">#<strong>replace</strong>(other_str)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>s = “hello”         #=&gt; “hello”    s.replace “world”   #=&gt; “world”.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a new string with the characters from <i>str</i> in reverse order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse!-instance_method" title="#reverse! (instance method)">#<strong>reverse!</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Reverses <i>str</i> in place.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rindex-instance_method" title="#rindex (instance method)">#<strong>rindex</strong>(substring[, offset])  &#x21d2; Fixnum<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the index of the last occurrence of the given <i>substring</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rjust-instance_method" title="#rjust (instance method)">#<strong>rjust</strong>(idx, padstr = &#39; &#39;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     str.rjust(integer, padstr=’ ‘)   -&gt; new_str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rpartition-instance_method" title="#rpartition (instance method)">#<strong>rpartition</strong>(sep)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rstrip-instance_method" title="#rstrip (instance method)">#<strong>rstrip</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.rstrip   -&gt; new_str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rstrip!-instance_method" title="#rstrip! (instance method)">#<strong>rstrip!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.rstrip!   -&gt; self or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setbyte-instance_method" title="#setbyte (instance method)">#<strong>setbyte</strong>(index, integer)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>modifies the <i>index</i>th byte as <i>integer</i>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Same as <code>sym.to_s.length</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Element Reference—If passed a single <code>Fixnum</code>, returns the code of the character at that position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice!-instance_method" title="#slice! (instance method)">#<strong>slice!</strong>(arg1, arg2 = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.slice!(fixnum)           -&gt; new_str or nil    str.slice!(fixnum, fixnum)   -&gt; new_str or nil    str.slice!(range)            -&gt; new_str or nil    str.slice!(other_str)        -&gt; new_str or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#split-instance_method" title="#split (instance method)">#<strong>split</strong>(separator = nil, [limit])  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Divides <i>str</i> into substrings based on a delimiter, returning an array of these substrings.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#squeeze-instance_method" title="#squeeze (instance method)">#<strong>squeeze</strong>([other_str])  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Builds a set of characters from the other_str parameter(s) using the procedure described for String#count.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#squeeze!-instance_method" title="#squeeze! (instance method)">#<strong>squeeze!</strong>([other_str])  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Squeezes str in place, returning either str, or nil if no changes were made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start_with%3F-instance_method" title="#start_with? (instance method)">#<strong>start_with?</strong>([prefixes])  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns true if +str+ starts with one of the +prefixes+ given.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip-instance_method" title="#strip (instance method)">#<strong>strip</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:    str.strip   -&gt; new_str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip!-instance_method" title="#strip! (instance method)">#<strong>strip!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>call-seq:     str.strip!   -&gt; str or nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#strip_heredoc-instance_method" title="#strip_heredoc (instance method)">#<strong>strip_heredoc</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sub-instance_method" title="#sub (instance method)">#<strong>sub</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Replace only the first match of +pattern+ with +replacement+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sub!-instance_method" title="#sub! (instance method)">#<strong>sub!</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Replace only the first match of +pattern+ with +replacement+.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#succ-instance_method" title="#succ (instance method)">#<strong>succ</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#succ!-instance_method" title="#succ (instance method)">#<strong>succ</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns next sequence of the string;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#swapcase-instance_method" title="#swapcase (instance method)">#<strong>swapcase</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of <i>str</i> with uppercase alphabetic characters converted to lowercase and lowercase characters converted to uppercase.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#swapcase!-instance_method" title="#swapcase! (instance method)">#<strong>swapcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Equivalent to <code>String#swapcase</code>, but modifies the receiver in place, returning <i>str</i>, or <code>nil</code> if no changes were made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_f-instance_method" title="#to_f (instance method)">#<strong>to_f</strong>  &#x21d2; Float </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the result of interpreting leading characters in <i>str</i> as a floating point number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_i-instance_method" title="#to_i (instance method)">#<strong>to_i</strong>(base = 10)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the result of interpreting leading characters in <i>str</i> as an integer base <i>base</i> (between 2 and 36).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the receiver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_str-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the receiver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_sym-instance_method" title="#to_sym (instance method)">#<strong>to_sym</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the <code>Symbol</code> corresponding to <i>str</i>, creating the symbol if it did not previously exist.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tr-instance_method" title="#tr (instance method)">#<strong>tr</strong>(from_str, to_str)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of str with the characters in from_str replaced by the corresponding characters in to_str.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tr!-instance_method" title="#tr! (instance method)">#<strong>tr!</strong>(from_str, to_str)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Translates str in place, using the same rules as String#tr.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tr_s-instance_method" title="#tr_s (instance method)">#<strong>tr_s</strong>(from_str, to_str)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Processes a copy of str as described under String#tr, then removes duplicate characters in regions that were affected by the translation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tr_s!-instance_method" title="#tr_s! (instance method)">#<strong>tr_s!</strong>(from_str, to_str)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Performs String#tr_s processing on str in place, returning str, or nil if no changes were made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#underscore-instance_method" title="#underscore (instance method)">#<strong>underscore</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upcase-instance_method" title="#upcase (instance method)">#<strong>upcase</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns a copy of <i>str</i> with all lowercase letters replaced with their uppercase counterparts.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upcase!-instance_method" title="#upcase! (instance method)">#<strong>upcase!</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Upcases the contents of <i>str</i>, returning <code>nil</code> if no changes were made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upto-instance_method" title="#upto (instance method)">#<strong>upto</strong>(max, exclusive = false, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><table>
  <tbody>
    <tr>
      <td>call-seq:     str.upto(other_str, exclusive=false) {</td>
      <td>s</td>
      <td>block }   -&gt; str     str.upto(other_str, exclusive=false)                -&gt; an_enumerator.</td>
    </tr>
  </tbody>
</table>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Comparable.html" title="Comparable (module)">Comparable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Comparable.html#<-instance_method" title="Comparable#&lt; (method)">#<</a></span>, <span class='object_link'><a href="Comparable.html#<=-instance_method" title="Comparable#&lt;= (method)">#<=</a></span>, <span class='object_link'><a href="Comparable.html#>-instance_method" title="Comparable#&gt; (method)">#></a></span>, <span class='object_link'><a href="Comparable.html#>=-instance_method" title="Comparable#&gt;= (method)">#>=</a></span>, <span class='object_link'><a href="Comparable.html#between%3F-instance_method" title="Comparable#between? (method)">#between?</a></span>, <span class='object_link'><a href="Comparable.html#clamp-instance_method" title="Comparable#clamp (method)">#clamp</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>new</strong>(str = &quot;&quot;)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new string object containing a copy of <i>str</i>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1909
1910
1911
1912
1913
1914
1915
1916
1917
1918
1919
1920</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1909</span>

static mrb_value
mrb_str_init(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str2;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|S</span><span style="color:#710">&quot;</span></span>, &amp;str2) == <span style="color:#00D">0</span>) {
    struct <span style="color:#036;font-weight:bold">RString</span> *s = str_new(mrb, <span style="color:#00D">0</span>, <span style="color:#00D">0</span>);
    str2 = mrb_obj_value(s);
  }
  str_replace(mrb, mrb_str_ptr(<span style="color:#069">self</span>), mrb_str_ptr(str2));
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="%-instance_method">
  
    #<strong>%</strong>(args)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2
3
4
5
6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-sprintf/mrblib/string.rb', line 2</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">%</span>(args)
  <span style="color:#080;font-weight:bold">if</span> args.is_a? <span style="color:#036;font-weight:bold">Array</span>
    sprintf(<span style="color:#069">self</span>, *args)
  <span style="color:#080;font-weight:bold">else</span>
    sprintf(<span style="color:#069">self</span>, args)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="*-instance_method">
  
    #<strong>*</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Copy—Returns a new <code>String</code> containing <i>integer</i> copies of
the receiver.</p>

<p>“Ho! “ * 3   #=&gt; “Ho! Ho! Ho! “</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 953</span>

static mrb_value
mrb_str_times(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int n,len,times;
  struct <span style="color:#036;font-weight:bold">RString</span> *str2;
  char *p;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">i</span><span style="color:#710">&quot;</span></span>, &amp;times);
  <span style="color:#080;font-weight:bold">if</span> (times &lt; <span style="color:#00D">0</span>) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">negative argument</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">if</span> (times &amp;&amp; <span style="color:#036;font-weight:bold">MRB_SSIZE_MAX</span> / times &lt; RSTRING_LEN(<span style="color:#069">self</span>)) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">argument too big</span><span style="color:#710">&quot;</span></span>);
  }

  len = RSTRING_LEN(<span style="color:#069">self</span>)*times;
  str2 = str_new(mrb, <span style="color:#00D">0</span>, len);
  str_with_class(str2, <span style="color:#069">self</span>);
  p = RSTR_PTR(str2);
  <span style="color:#080;font-weight:bold">if</span> (len &gt; <span style="color:#00D">0</span>) {
    n = RSTRING_LEN(<span style="color:#069">self</span>);
    memcpy(p, RSTRING_PTR(<span style="color:#069">self</span>), n);
    <span style="color:#080;font-weight:bold">while</span> (n &lt;= len/<span style="color:#00D">2</span>) {
      memcpy(p + n, p, n);
      n *= <span style="color:#00D">2</span>;
    }
    memcpy(p + n, p, len-n);
  }
  p[RSTR_LEN(str2)] = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\0</span><span style="color:#710">'</span></span>;
  RSTR_COPY_ASCII_FLAG(str2, mrb_str_ptr(<span style="color:#069">self</span>));

  <span style="color:#080;font-weight:bold">return</span> mrb_obj_value(str2);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="+-instance_method">
  
    #<strong>+</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Concatenation—Returns a new <code>String</code> containing
<i>other_str</i> concatenated to <i>str</i>.</p>

<p>“Hello from “ + self.to_s   #=&gt; “Hello from main”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


912
913
914
915
916
917
918
919</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 912</span>

static mrb_value
mrb_str_plus_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;str);
  <span style="color:#080;font-weight:bold">return</span> mrb_str_plus(mrb, <span style="color:#069">self</span>, str);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="<<-instance_method">
  
    
      <span class="overload">#<strong>&lt;&lt;</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>concat</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>&lt;&lt;</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>concat</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Append—Concatenates the given object to <i>str</i>. If the object is a
<code>Integer</code>, it is considered as a codepoint, and is converted
to a character before concatenation
(equivalent to <code>str.concat(integer.chr(__ENCODING__))</code>).</p>

<p>a = “hello “
   a « “world”   #=&gt; “hello world”
   a.concat(33)   #=&gt; “hello world!”</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>&lt;&lt;</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>concat</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>&lt;&lt;</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>concat</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 164</span>

static mrb_value
mrb_str_concat_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;str);
  <span style="color:#080;font-weight:bold">if</span> (mrb_fixnum_p(str) || mrb_float_p(str))
<span style="color:#777">#ifdef MRB_UTF8_STRING</span>
    str = int_chr_utf8(mrb, str);
<span style="color:#777">#else</span>
    str = int_chr_binary(mrb, str);
<span style="color:#777">#endif</span>
  <span style="color:#080;font-weight:bold">else</span>
    mrb_ensure_string_type(mrb, str);
  mrb_str_cat_str(mrb, <span style="color:#069">self</span>, str);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="<=>-instance_method">
  
    #<strong>&lt;=&gt;</strong>(other_str)  &#x21d2; <tt>-1</tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Comparison—Returns -1 if <i>other_str</i> is less than, 0 if
<i>other_str</i> is equal to, and +1 if <i>other_str</i> is greater than
<i>str</i>. If the strings are of different lengths, and the strings are
equal when compared up to the shortest length, then the longer string is
considered greater than the shorter one. If the variable <code>$=</code> is
<code>false</code>, the comparison is based on comparing the binary values
of each character in the string. In older versions of Ruby, setting
<code>$=</code> allowed case-insensitive comparisons; this is now deprecated
in favor of using <code>String#casecmp</code>.</p>

<p><code>&lt;=&gt;</code> is the basis for the methods <code>&lt;</code>,
<code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, and <code>between?</code>,
included from module <code>Comparable</code>.  The method
<code>String#==</code> does not use <code>Comparable#==</code>.</p>

<p>“abcdef” &lt;=&gt; “abcde”     #=&gt; 1
   “abcdef” &lt;=&gt; “abcdef”    #=&gt; 0
   “abcdef” &lt;=&gt; “abcdefg”   #=&gt; -1
   “abcdef” &lt;=&gt; “ABCDEF”    #=&gt; 1</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>-1</tt>, <tt>0</tt>, <tt>+1</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1043</span>

static mrb_value
mrb_str_cmp_m(mrb_state *mrb, mrb_value str1)
{
  mrb_value str2;
  mrb_int result;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;str2);
  <span style="color:#080;font-weight:bold">if</span> (!mrb_string_p(str2)) {
    <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  }
  <span style="color:#080;font-weight:bold">else</span> {
    result = mrb_str_cmp(mrb, str1, str2);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(result);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="==-instance_method">
  
    #<strong>==</strong>(obj)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Equality—
If <i>obj</i> is not a <code>String</code>, returns <code>false</code>.
Otherwise, returns <code>false</code> or <code>true</code></p>

<p>caution:if <i>str</i> <code>&lt;=&gt;</code> <i>obj</i> returns zero.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1088
1089
1090
1091
1092
1093
1094
1095
1096</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1088</span>

static mrb_value
mrb_str_equal_m(mrb_state *mrb, mrb_value str1)
{
  mrb_value str2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;str2);

  <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(mrb_str_equal(mrb, str1, str2));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    
      <span class="overload">#<strong>[]</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Reference—If passed a single <code>Fixnum</code>, returns the code
of the character at that position. If passed two <code>Fixnum</code>
objects, returns a substring starting at the offset given by the first, and
a length given by the second. If given a range, a substring containing
characters at offsets given by the range is returned. In all three cases, if
an offset is negative, it is counted from the end of <i>str</i>. Returns
<code>nil</code> if the initial offset falls outside the string, the length
is negative, or the beginning of the range is greater than the end.</p>

<p>If a <code>String</code> is given, that string is returned if it occurs in
<i>str</i>. In both cases, <code>nil</code> is returned if there is no
match.</p>

<p>a = “hello there”
   a[1]                   #=&gt; 101(1.8.7) “e”(1.9.2)
   a[1.1]                 #=&gt;            “e”(1.9.2)
   a[1,3]                 #=&gt; “ell”
   a[1..3]                #=&gt; “ell”
   a[-3,2]                #=&gt; “er”
   a[-4..-2]              #=&gt; “her”
   a[12..-1]              #=&gt; nil
   a[-2..-4]              #=&gt; “”
   a[“lo”]                #=&gt; “lo”
   a[“bye”]               #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1269</span>

static mrb_value
mrb_str_aref_m(mrb_state *mrb, mrb_value str)
{
  mrb_value a1, a2;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o|o</span><span style="color:#710">&quot;</span></span>, &amp;a1, &amp;a2) == <span style="color:#00D">1</span>) {
    a2 = mrb_undef_value();
  }

  <span style="color:#080;font-weight:bold">return</span> mrb_str_aref(mrb, str, a1, a2);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]=-instance_method">
  
    
      <span class="overload">#<strong>[]=</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>[]=</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>[]=</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>[]=</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Modify +self+ by replacing the content of +self+.
The portion of the string affected is determined using the same criteria as +String#[]+.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1450</span>

static mrb_value
mrb_str_aset_m(mrb_state *mrb, mrb_value str)
{
  mrb_value indx, alen, replace;

  switch (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">oo|S!</span><span style="color:#710">&quot;</span></span>, &amp;indx, &amp;alen, &amp;replace)) {
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#00D">2</span>:
      replace = alen;
      alen = mrb_undef_value();
      <span style="color:#080;font-weight:bold">break</span>;
    <span style="color:#080;font-weight:bold">case</span> <span style="color:#00D">3</span>:
      <span style="color:#080;font-weight:bold">break</span>;
  }
  mrb_str_aset(mrb, str, indx, alen, replace);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__lines-instance_method">
  
    #<strong>__lines</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1174
1175
1176
1177
1178
1179
1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 1174</span>

static mrb_value
mrb_str_lines(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value result;
  int ai;
  mrb_int len;
  char *b = RSTRING_PTR(<span style="color:#069">self</span>);
  char *p = b, *t;
  char *e = b + RSTRING_LEN(<span style="color:#069">self</span>);

  result = mrb_ary_new(mrb);
  ai = mrb_gc_arena_save(mrb);
  <span style="color:#080;font-weight:bold">while</span> (p &lt; e) {
    t = p;
    <span style="color:#080;font-weight:bold">while</span> (p &lt; e &amp;&amp; *p != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>) p++;
    <span style="color:#080;font-weight:bold">if</span> (*p == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>) p++;
    len = (mrb_int) (p - t);
    mrb_ary_push(mrb, result, mrb_str_new(mrb, t, len));
    mrb_gc_arena_restore(mrb, ai);
  }
  <span style="color:#080;font-weight:bold">return</span> result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__sub_replace-instance_method">
  
    #<strong>__sub_replace</strong>(pre, m, post)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>private method for gsub/sub</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 55</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">__sub_replace</span>(pre, m, post)
  s = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
  i = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> j = index(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\\</span><span style="color:#710">&quot;</span></span>, i)
    <span style="color:#080;font-weight:bold">break</span> <span style="color:#080;font-weight:bold">if</span> j == length-<span style="color:#00D">1</span>
    t = <span style="color:#080;font-weight:bold">case</span> <span style="color:#069">self</span>[j+<span style="color:#00D">1</span>]
        <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\\</span><span style="color:#710">&quot;</span></span>
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\\</span><span style="color:#710">&quot;</span></span>
        <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">`</span><span style="color:#710">&quot;</span></span>
          pre
        <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">&amp;</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">0</span><span style="color:#710">&quot;</span></span>
          m
        <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">'</span><span style="color:#710">&quot;</span></span>
          post
        <span style="color:#080;font-weight:bold">when</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">2</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">3</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">4</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">5</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">6</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">7</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">8</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">9</span><span style="color:#710">&quot;</span></span>
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
        <span style="color:#080;font-weight:bold">else</span>
          <span style="color:#069">self</span>[j, <span style="color:#00D">2</span>]
        <span style="color:#080;font-weight:bold">end</span>
    s += <span style="color:#069">self</span>[i, j-i] + t
    i = j + <span style="color:#00D">2</span>
  <span style="color:#080;font-weight:bold">end</span>
  s + <span style="color:#069">self</span>[i, length-i]
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bytes-instance_method">
  
    #<strong>bytes</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns an array of bytes in <em>str</em>.</p>

<p>str = “hello”
   str.bytes       #=&gt; [104, 101, 108, 108, 111]</p>


  </div>
</div>
<div class="tags">
  
  


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2755
2756
2757
2758
2759
2760
2761
2762
2763
2764
2765
2766
2767</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2755</span>

static mrb_value
mrb_str_bytes(mrb_state *mrb, mrb_value str)
{
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);
  mrb_value a = mrb_ary_new_capa(mrb, RSTR_LEN(s));
  unsigned char *p = (unsigned char *)(RSTR_PTR(s)), *pend = p + RSTR_LEN(s);

  <span style="color:#080;font-weight:bold">while</span> (p &lt; pend) {
    mrb_ary_push(mrb, a, mrb_fixnum_value(p[<span style="color:#00D">0</span>]));
    p++;
  }
  <span style="color:#080;font-weight:bold">return</span> a;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bytesize-instance_method">
  
    #<strong>bytesize</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


936
937
938
939
940
941</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 936</span>

static mrb_value
mrb_str_bytesize(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int len = RSTRING_LEN(<span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="byteslice-instance_method">
  
    
      <span class="overload">#<strong>byteslice</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>byteslice</strong>(integer, integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>byteslice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Byte Reference—If passed a single Integer, returns a
substring of one byte at that position. If passed two Integer
objects, returns a substring starting at the offset given by the first, and
a length given by the second. If given a Range, a substring containing
bytes at offsets given by the range is returned. In all three cases, if
an offset is negative, it is counted from the end of <i>str</i>. Returns
<code>nil</code> if the initial offset falls outside the string, the length
is negative, or the beginning of the range is greater than the end.
The encoding of the resulted string keeps original encoding.</p>

<p>“hello”.byteslice(1)     #=&gt; “e”
   “hello”.byteslice(-1)    #=&gt; “o”
   “hello”.byteslice(1, 2)  #=&gt; “el”
   “\x80\u3042”.byteslice(1, 3) #=&gt; “\u3042”
   “\x03\u3042\xff”.byteslice(1..3) #=&gt; “\u3042”</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>byteslice</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>byteslice</strong>(integer, integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>byteslice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2837
2838
2839
2840
2841
2842
2843
2844
2845
2846
2847
2848
2849
2850
2851
2852
2853
2854
2855
2856
2857
2858
2859
2860
2861
2862
2863
2864
2865</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2837</span>

static mrb_value
mrb_str_byteslice(mrb_state *mrb, mrb_value str)
{
  mrb_value a1, a2;
  mrb_int str_len = RSTRING_LEN(str), beg, len;
  mrb_bool empty = <span style="color:#069">TRUE</span>;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o|o</span><span style="color:#710">&quot;</span></span>, &amp;a1, &amp;a2) == <span style="color:#00D">2</span>) {
    beg = mrb_fixnum(mrb_to_int(mrb, a1));
    len = mrb_fixnum(mrb_to_int(mrb, a2));
  }
  <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (mrb_range_p(a1)) {
    <span style="color:#080;font-weight:bold">if</span> (mrb_range_beg_len(mrb, a1, &amp;beg, &amp;len, str_len, <span style="color:#069">TRUE</span>) != <span style="color:#036;font-weight:bold">MRB_RANGE_OK</span>) {
      <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
    }
  }
  <span style="color:#080;font-weight:bold">else</span> {
    beg = mrb_fixnum(mrb_to_int(mrb, a1));
    len = <span style="color:#00D">1</span>;
    empty = <span style="color:#069">FALSE</span>;
  }

  <span style="color:#080;font-weight:bold">if</span> (mrb_str_beg_len(str_len, &amp;beg, &amp;len) &amp;&amp; (empty || len != <span style="color:#00D">0</span>)) {
    <span style="color:#080;font-weight:bold">return</span> mrb_str_byte_subseq(mrb, str, beg, len);
  }
  <span style="color:#080;font-weight:bold">else</span> {
    <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="capitalize-instance_method">
  
    #<strong>capitalize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of <i>str</i> with the first character converted to uppercase
and the remainder to lowercase.</p>

<p>“hello”.capitalize    #=&gt; “Hello”
   “HELLO”.capitalize    #=&gt; “Hello”
   “123ABC”.capitalize   #=&gt; “123abc”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1516
1517
1518
1519
1520
1521
1522
1523
1524</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1516</span>

static mrb_value
mrb_str_capitalize(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_capitalize_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="capitalize!-instance_method">
  
    #<strong>capitalize!</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Modifies <i>str</i> by converting the first character to uppercase and the
remainder to lowercase. Returns <code>nil</code> if no changes are made.</p>

<p>a = “hello”
   a.capitalize!   #=&gt; “Hello”
   a               #=&gt; “Hello”
   a.capitalize!   #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1480</span>

static mrb_value
mrb_str_capitalize_bang(mrb_state *mrb, mrb_value str)
{
  char *p, *pend;
  mrb_bool modify = <span style="color:#069">FALSE</span>;
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);

  mrb_str_modify_keep_ascii(mrb, s);
  <span style="color:#080;font-weight:bold">if</span> (RSTR_LEN(s) == <span style="color:#00D">0</span> || !RSTR_PTR(s)) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  p = RSTR_PTR(s); pend = RSTR_PTR(s) + RSTR_LEN(s);
  <span style="color:#080;font-weight:bold">if</span> (ISLOWER(*p)) {
    *p = TOUPPER(*p);
    modify = <span style="color:#069">TRUE</span>;
  }
  <span style="color:#080;font-weight:bold">while</span> (++p &lt; pend) {
    <span style="color:#080;font-weight:bold">if</span> (ISUPPER(*p)) {
      *p = TOLOWER(*p);
      modify = <span style="color:#069">TRUE</span>;
    }
  }
  <span style="color:#080;font-weight:bold">if</span> (modify) <span style="color:#080;font-weight:bold">return</span> str;
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="casecmp-instance_method">
  
    #<strong>casecmp</strong>(str)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.casecmp(other_str)   -&gt; -1, 0, +1 or nil</p>

<p>Case-insensitive version of <code>String#&lt;=&gt;</code>.</p>

<p>“abcdef”.casecmp(“abcde”)     #=&gt; 1
   “aBcDeF”.casecmp(“abcdef”)    #=&gt; 0
   “abcdef”.casecmp(“abcdefg”)   #=&gt; -1
   “abcdef”.casecmp(“ABCDEF”)    #=&gt; 0</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 125</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">casecmp</span>(str)
  <span style="color:#069">self</span>.downcase &lt;=&gt; str.__to_str.downcase
<span style="color:#080;font-weight:bold">rescue</span> <span style="color:#036;font-weight:bold">NoMethodError</span>
  <span style="color:#069">nil</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="casecmp?-instance_method">
  
    #<strong>casecmp?</strong>(str)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
  str.casecmp?(other)  -&gt; true, false, or nil</p>

<p>Returns true if str and other_str are equal after case folding,
false if they are not equal, and nil if other_str is not a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 138</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">casecmp?</span>(str)
  c = <span style="color:#069">self</span>.casecmp(str)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">if</span> c.nil?
  <span style="color:#080;font-weight:bold">return</span> c == <span style="color:#00D">0</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chars-instance_method">
  
    #<strong>chars</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


302
303
304
305
306
307
308
309
310
311</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 302</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">chars</span>(&amp;block)
  <span style="color:#080;font-weight:bold">if</span> block_given?
    <span style="color:#069">self</span>.split(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>).each <span style="color:#080;font-weight:bold">do</span> |i|
      block.call(i)
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>.split(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chomp-instance_method">
  
    #<strong>chomp</strong>(separator = &quot;\n&quot;)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new <code>String</code> with the given record separator removed
from the end of <i>str</i> (if present). <code>chomp</code> also removes
carriage return characters (that is it will remove <code>\n</code>,
<code>\r</code>, and <code>\r\n</code>).</p>

<p>“hello”.chomp            #=&gt; “hello”
   “hello\n”.chomp          #=&gt; “hello”
   “hello\r\n”.chomp        #=&gt; “hello”
   “hello\n\r”.chomp        #=&gt; “hello\n”
   “hello\r”.chomp          #=&gt; “hello”
   “hello \n there”.chomp   #=&gt; “hello \n there”
   “hello”.chomp(“llo”)     #=&gt; “he”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1620
1621
1622
1623
1624
1625
1626
1627
1628</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1620</span>

static mrb_value
mrb_str_chomp(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_chomp_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chomp!-instance_method">
  
    #<strong>chomp!</strong>(separator = &quot;\n&quot;)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Modifies <i>str</i> in place as described for <code>String#chomp</code>,
returning <i>str</i>, or <code>nil</code> if no modifications were made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1534
1535
1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590
1591
1592
1593
1594
1595
1596
1597
1598
1599
1600</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1534</span>

static mrb_value
mrb_str_chomp_bang(mrb_state *mrb, mrb_value str)
{
  mrb_value rs;
  mrb_int newline;
  char *p, *pp;
  mrb_int rslen;
  mrb_int len;
  mrb_int argc;
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);

  argc = mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|S</span><span style="color:#710">&quot;</span></span>, &amp;rs);
  mrb_str_modify_keep_ascii(mrb, s);
  len = RSTR_LEN(s);
  <span style="color:#080;font-weight:bold">if</span> (argc == <span style="color:#00D">0</span>) {
    <span style="color:#080;font-weight:bold">if</span> (len == <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#606">smart_chomp</span>:
    <span style="color:#080;font-weight:bold">if</span> (RSTR_PTR(s)[len-<span style="color:#00D">1</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>) {
      RSTR_SET_LEN(s, RSTR_LEN(s) - <span style="color:#00D">1</span>);
      <span style="color:#080;font-weight:bold">if</span> (RSTR_LEN(s) &gt; <span style="color:#00D">0</span> &amp;&amp;
          RSTR_PTR(s)[RSTR_LEN(s)-<span style="color:#00D">1</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\r</span><span style="color:#710">'</span></span>) {
        RSTR_SET_LEN(s, RSTR_LEN(s) - <span style="color:#00D">1</span>);
      }
    }
    <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (RSTR_PTR(s)[len-<span style="color:#00D">1</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\r</span><span style="color:#710">'</span></span>) {
      RSTR_SET_LEN(s, RSTR_LEN(s) - <span style="color:#00D">1</span>);
    }
    <span style="color:#080;font-weight:bold">else</span> {
      <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
    }
    RSTR_PTR(s)[RSTR_LEN(s)] = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\0</span><span style="color:#710">'</span></span>;
    <span style="color:#080;font-weight:bold">return</span> str;
  }

  <span style="color:#080;font-weight:bold">if</span> (len == <span style="color:#00D">0</span> || mrb_nil_p(rs)) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  p = RSTR_PTR(s);
  rslen = RSTRING_LEN(rs);
  <span style="color:#080;font-weight:bold">if</span> (rslen == <span style="color:#00D">0</span>) {
    <span style="color:#080;font-weight:bold">while</span> (len&gt;<span style="color:#00D">0</span> &amp;&amp; p[len-<span style="color:#00D">1</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>) {
      len--;
      <span style="color:#080;font-weight:bold">if</span> (len&gt;<span style="color:#00D">0</span> &amp;&amp; p[len-<span style="color:#00D">1</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\r</span><span style="color:#710">'</span></span>)
        len--;
    }
    <span style="color:#080;font-weight:bold">if</span> (len &lt; RSTR_LEN(s)) {
      RSTR_SET_LEN(s, len);
      p[len] = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\0</span><span style="color:#710">'</span></span>;
      <span style="color:#080;font-weight:bold">return</span> str;
    }
    <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  }
  <span style="color:#080;font-weight:bold">if</span> (rslen &gt; len) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  newline = RSTRING_PTR(rs)[rslen-<span style="color:#00D">1</span>];
  <span style="color:#080;font-weight:bold">if</span> (rslen == <span style="color:#00D">1</span> &amp;&amp; newline == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>)
    newline = RSTRING_PTR(rs)[rslen-<span style="color:#00D">1</span>];
  <span style="color:#080;font-weight:bold">if</span> (rslen == <span style="color:#00D">1</span> &amp;&amp; newline == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>)
    goto smart_chomp;

  pp = p + len - rslen;
  <span style="color:#080;font-weight:bold">if</span> (p[len-<span style="color:#00D">1</span>] == newline &amp;&amp;
     (rslen &lt;= <span style="color:#00D">1</span> ||
     memcmp(RSTRING_PTR(rs), pp, rslen) == <span style="color:#00D">0</span>)) {
    RSTR_SET_LEN(s, len - rslen);
    p[RSTR_LEN(s)] = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\0</span><span style="color:#710">'</span></span>;
    <span style="color:#080;font-weight:bold">return</span> str;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chop-instance_method">
  
    #<strong>chop</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new <code>String</code> with the last character removed.  If the
string ends with <code>\r\n</code>, both characters are removed. Applying
<code>chop</code> to an empty string returns an empty
string. <code>String#chomp</code> is often a safer alternative, as it leaves
the string unchanged if it doesn’t end in a record separator.</p>

<p>“string\r\n”.chop   #=&gt; “string”
   “string\n\r”.chop   #=&gt; “string\n”
   “string\n”.chop     #=&gt; “string”
   “string”.chop       #=&gt; “strin”
   “x”.chop            #=&gt; “”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1689
1690
1691
1692
1693
1694
1695
1696</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1689</span>

static mrb_value
mrb_str_chop(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;
  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_chop_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chop!-instance_method">
  
    #<strong>chop!</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Processes <i>str</i> as for <code>String#chop</code>, returning <i>str</i>,
or <code>nil</code> if <i>str</i> is the empty string.  See also
<code>String#chomp!</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1639</span>

static mrb_value
mrb_str_chop_bang(mrb_state *mrb, mrb_value str)
{
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);

  mrb_str_modify_keep_ascii(mrb, s);
  <span style="color:#080;font-weight:bold">if</span> (RSTR_LEN(s) &gt; <span style="color:#00D">0</span>) {
    mrb_int len;
<span style="color:#777">#ifdef MRB_UTF8_STRING</span>
    const char* t = RSTR_PTR(s), *p = t;
    const char* e = p + RSTR_LEN(s);
    <span style="color:#080;font-weight:bold">while</span> (p&lt;e) {
      mrb_int clen = utf8len(p, e);
      <span style="color:#080;font-weight:bold">if</span> (p + clen&gt;=e) <span style="color:#080;font-weight:bold">break</span>;
      p += clen;
    }
    len = p - t;
<span style="color:#777">#else</span>
    len = RSTR_LEN(s) - <span style="color:#00D">1</span>;
<span style="color:#777">#endif</span>
    <span style="color:#080;font-weight:bold">if</span> (RSTR_PTR(s)[len] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\n</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (len &gt; <span style="color:#00D">0</span> &amp;&amp;
          RSTR_PTR(s)[len-<span style="color:#00D">1</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\r</span><span style="color:#710">'</span></span>) {
        len--;
      }
    }
    RSTR_SET_LEN(s, len);
    RSTR_PTR(s)[len] = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\0</span><span style="color:#710">'</span></span>;
    <span style="color:#080;font-weight:bold">return</span> str;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="chr-instance_method">
  
    #<strong>chr</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a one-character string at the beginning of the string.</p>

<p>a = “abcde”
   a.chr    #=&gt; “a”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


855
856
857
858
859</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 855</span>

static mrb_value
mrb_str_chr(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_str_substr(mrb, <span style="color:#069">self</span>, <span style="color:#00D">0</span>, <span style="color:#00D">1</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear-instance_method">
  
    #<strong>clear</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   string.clear    -&gt;  string</p>

<p>Makes string empty.</p>

<p>a = “abcde”
   a.clear    #=&gt; “”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 12</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">clear</span>
  <span style="color:#069">self</span>.replace(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="codepoints-instance_method">
  
    #<strong>codepoints</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='each_codepoint-instance_method'>each_codepoint</span></span>
    </span>
  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 326</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">codepoints</span>(&amp;block)
  len = <span style="color:#069">self</span>.size

  <span style="color:#080;font-weight:bold">if</span> block_given?
    <span style="color:#069">self</span>.split(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>).each <span style="color:#080;font-weight:bold">do</span>|x|
      block.call(x.ord)
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">else</span>
    <span style="color:#069">self</span>.split(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>).map{|x| x.ord}
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="concat-instance_method">
  
    
      <span class="overload">#<strong>&lt;&lt;</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>concat</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>&lt;&lt;</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>concat</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Append—Concatenates the given object to <i>str</i>. If the object is a
<code>Integer</code>, it is considered as a codepoint, and is converted
to a character before concatenation
(equivalent to <code>str.concat(integer.chr(__ENCODING__))</code>).</p>

<p>a = “hello “
   a « “world”   #=&gt; “hello world”
   a.concat(33)   #=&gt; “hello world!”</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>&lt;&lt;</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>concat</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>&lt;&lt;</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>concat</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 164</span>

static mrb_value
mrb_str_concat_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;str);
  <span style="color:#080;font-weight:bold">if</span> (mrb_fixnum_p(str) || mrb_float_p(str))
<span style="color:#777">#ifdef MRB_UTF8_STRING</span>
    str = int_chr_utf8(mrb, str);
<span style="color:#777">#else</span>
    str = int_chr_binary(mrb, str);
<span style="color:#777">#endif</span>
  <span style="color:#080;font-weight:bold">else</span>
    mrb_ensure_string_type(mrb, str);
  mrb_str_cat_str(mrb, <span style="color:#069">self</span>, str);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="count-instance_method">
  
    #<strong>count</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call_seq:
  str.count([other_str])   -&gt; integer</p>

<p>Each other_str parameter defines a set of characters to count.  The
intersection of these sets defines the characters to count in str.  Any
other_str that starts with a caret ^ is negated.  The sequence c1-c2
means all characters between c1 and c2.  The backslash character \ can
be used to escape ^ or - and is otherwise ignored unless it appears at
the end of a sequence or the end of a other_str.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 810</span>

static mrb_value
mrb_str_count(mrb_state *mrb, mrb_value str)
{
  mrb_value v_pat = mrb_nil_value();
  mrb_int i;
  char *s;
  mrb_int len;
  mrb_int count = <span style="color:#00D">0</span>;
  struct tr_pattern pat = <span style="color:#036;font-weight:bold">STATIC_TR_PATTERN</span>;
  uint8_t bitmap[<span style="color:#00D">32</span>];

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;v_pat);
  tr_parse_pattern(mrb, &amp;pat, v_pat, <span style="color:#069">TRUE</span>);
  tr_compile_pattern(&amp;pat, v_pat, bitmap);
  tr_free_pattern(mrb, &amp;pat);

  s = RSTRING_PTR(str);
  len = RSTRING_LEN(str);
  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; len; i++) {
    <span style="color:#080;font-weight:bold">if</span> (tr_bitmap_detect(bitmap, s[i])) count++;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(count);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cover?-instance_method">
  
    #<strong>cover?</strong>(obj)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if +obj+ is between the begin and end of
the range.</p>

<p>This tests <code>begin &lt;= obj &lt;= end</code> when #exclude_end? is +false+
and <code>begin &lt;= obj &lt; end</code> when #exclude_end? is +true+.</p>

<p>(“a”..”z”).cover?(“c”)    #=&gt; true
   (“a”..”z”).cover?(“5”)    #=&gt; false
   (“a”..”z”).cover?(“cc”)   #=&gt; true</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-range-ext/src/range.c', line 34</span>

static mrb_value
range_cover(mrb_state *mrb, mrb_value range)
{
  mrb_value val;
  struct <span style="color:#036;font-weight:bold">RRange</span> *r = mrb_range_ptr(mrb, range);
  mrb_value beg, <span style="color:#080;font-weight:bold">end</span>;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;val);

  beg = RANGE_BEG(r);
  <span style="color:#080;font-weight:bold">end</span> = RANGE_END(r);

  <span style="color:#080;font-weight:bold">if</span> (r_le(mrb, beg, val)) {
    <span style="color:#080;font-weight:bold">if</span> (RANGE_EXCL(r)) {
      <span style="color:#080;font-weight:bold">if</span> (r_lt(mrb, val, <span style="color:#080;font-weight:bold">end</span>))
        <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
    }
    <span style="color:#080;font-weight:bold">else</span> {
      <span style="color:#080;font-weight:bold">if</span> (r_le(mrb, val, <span style="color:#080;font-weight:bold">end</span>))
        <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
    }
  }

  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-instance_method">
  
    #<strong>delete</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


775
776
777
778
779
780
781
782
783
784
785</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 775</span>

static mrb_value
mrb_str_delete(mrb_state *mrb, mrb_value str)
{
  mrb_value pat;
  mrb_value dup;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;pat);
  dup = mrb_str_dup(mrb, str);
  str_delete(mrb, dup, pat);
  <span style="color:#080;font-weight:bold">return</span> dup;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete!-instance_method">
  
    #<strong>delete!</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


787
788
789
790
791
792
793
794
795
796
797</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 787</span>

static mrb_value
mrb_str_delete_bang(mrb_state *mrb, mrb_value str)
{
  mrb_value pat;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;pat);
  <span style="color:#080;font-weight:bold">if</span> (str_delete(mrb, str, pat)) {
    <span style="color:#080;font-weight:bold">return</span> str;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_prefix-instance_method">
  
    #<strong>delete_prefix</strong>(prefix)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of <i>str</i> with leading <code>prefix</code> deleted.</p>

<p>“hello”.delete_prefix(“hel”) #=&gt; “lo”
   “hello”.delete_prefix(“llo”) #=&gt; “hello”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 1105</span>

static mrb_value
mrb_str_del_prefix(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int plen, slen;
  char *ptr;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">s</span><span style="color:#710">&quot;</span></span>, &amp;ptr, &amp;plen);
  slen = RSTRING_LEN(<span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">if</span> (plen &gt; slen) <span style="color:#080;font-weight:bold">return</span> mrb_str_dup(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">if</span> (memcmp(RSTRING_PTR(<span style="color:#069">self</span>), ptr, plen) != <span style="color:#00D">0</span>)
    <span style="color:#080;font-weight:bold">return</span> mrb_str_dup(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_str_substr(mrb, <span style="color:#069">self</span>, plen, slen-plen);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_prefix!-instance_method">
  
    #<strong>delete_prefix!</strong>(prefix)  &#x21d2; <tt>self</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deletes leading <code>prefix</code> from <i>str</i>, returning
<code>nil</code> if no change was made.</p>

<p>“hello”.delete_prefix!(“hel”) #=&gt; “lo”
   “hello”.delete_prefix!(“llo”) #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 1072</span>

static mrb_value
mrb_str_del_prefix_bang(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int plen, slen;
  char *ptr, *s;
  struct <span style="color:#036;font-weight:bold">RString</span> *str = RSTRING(<span style="color:#069">self</span>);

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">s</span><span style="color:#710">&quot;</span></span>, &amp;ptr, &amp;plen);
  slen = RSTR_LEN(str);
  <span style="color:#080;font-weight:bold">if</span> (plen &gt; slen) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  s = RSTR_PTR(str);
  <span style="color:#080;font-weight:bold">if</span> (memcmp(s, ptr, plen) != <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (!mrb_frozen_p(str) &amp;&amp; (RSTR_SHARED_P(str) || RSTR_FSHARED_P(str))) {
    str-&gt;as.heap.ptr += plen;
  }
  <span style="color:#080;font-weight:bold">else</span> {
    mrb_str_modify(mrb, str);
    s = RSTR_PTR(str);
    memmove(s, s+plen, slen-plen);
  }
  RSTR_SET_LEN(str, slen-plen);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_suffix-instance_method">
  
    #<strong>delete_suffix</strong>(suffix)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of <i>str</i> with leading <code>suffix</code> deleted.</p>

<p>“hello”.delete_suffix(“hel”) #=&gt; “lo”
   “hello”.delete_suffix(“llo”) #=&gt; “hello”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 1160</span>

static mrb_value
mrb_str_del_suffix(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int plen, slen;
  char *ptr;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">s</span><span style="color:#710">&quot;</span></span>, &amp;ptr, &amp;plen);
  slen = RSTRING_LEN(<span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">if</span> (plen &gt; slen) <span style="color:#080;font-weight:bold">return</span> mrb_str_dup(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">if</span> (memcmp(RSTRING_PTR(<span style="color:#069">self</span>)+slen-plen, ptr, plen) != <span style="color:#00D">0</span>)
    <span style="color:#080;font-weight:bold">return</span> mrb_str_dup(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_str_substr(mrb, <span style="color:#069">self</span>, <span style="color:#00D">0</span>, slen-plen);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_suffix!-instance_method">
  
    #<strong>delete_suffix!</strong>(suffix)  &#x21d2; <tt>self</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Deletes trailing <code>suffix</code> from <i>str</i>, returning
<code>nil</code> if no change was made.</p>

<p>“hello”.delete_suffix!(“llo”) #=&gt; “he”
   “hello”.delete_suffix!(“hel”) #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 1129</span>

static mrb_value
mrb_str_del_suffix_bang(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int plen, slen;
  char *ptr, *s;
  struct <span style="color:#036;font-weight:bold">RString</span> *str = RSTRING(<span style="color:#069">self</span>);

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">s</span><span style="color:#710">&quot;</span></span>, &amp;ptr, &amp;plen);
  slen = RSTR_LEN(str);
  <span style="color:#080;font-weight:bold">if</span> (plen &gt; slen) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  s = RSTR_PTR(str);
  <span style="color:#080;font-weight:bold">if</span> (memcmp(s+slen-plen, ptr, plen) != <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  <span style="color:#080;font-weight:bold">if</span> (!mrb_frozen_p(str) &amp;&amp; (RSTR_SHARED_P(str) || RSTR_FSHARED_P(str))) {
    <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">* no need to modify string *</span><span style="color:#404">/</span></span>
  }
  <span style="color:#080;font-weight:bold">else</span> {
    mrb_str_modify(mrb, str);
  }
  RSTR_SET_LEN(str, slen-plen);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="downcase-instance_method">
  
    #<strong>downcase</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of <i>str</i> with all uppercase letters replaced with their
lowercase counterparts. The operation is locale insensitive—only
characters ‘A’ to ‘Z’ are affected.</p>

<p>“hEllO”.downcase   #=&gt; “hello”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1739
1740
1741
1742
1743
1744
1745
1746
1747</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1739</span>

static mrb_value
mrb_str_downcase(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_downcase_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="downcase!-instance_method">
  
    #<strong>downcase!</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Downcases the contents of <i>str</i>, returning <code>nil</code> if no
changes were made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1706
1707
1708
1709
1710
1711
1712
1713
1714
1715
1716
1717
1718
1719
1720
1721
1722
1723
1724
1725
1726</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1706</span>

static mrb_value
mrb_str_downcase_bang(mrb_state *mrb, mrb_value str)
{
  char *p, *pend;
  mrb_bool modify = <span style="color:#069">FALSE</span>;
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);

  mrb_str_modify_keep_ascii(mrb, s);
  p = RSTR_PTR(s);
  pend = RSTR_PTR(s) + RSTR_LEN(s);
  <span style="color:#080;font-weight:bold">while</span> (p &lt; pend) {
    <span style="color:#080;font-weight:bold">if</span> (ISUPPER(*p)) {
      *p = TOLOWER(*p);
      modify = <span style="color:#069">TRUE</span>;
    }
    p++;
  }

  <span style="color:#080;font-weight:bold">if</span> (modify) <span style="color:#080;font-weight:bold">return</span> str;
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dump-instance_method">
  
    #<strong>dump</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Produces a version of <i>str</i> with all nonprinting characters replaced by
<code>\nnn</code> notation and all special characters escaped.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2656
2657
2658
2659
2660</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2656</span>

mrb_value
mrb_str_dump(mrb_state *mrb, mrb_value str)
{
  <span style="color:#080;font-weight:bold">return</span> str_escape(mrb, str, <span style="color:#069">FALSE</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_byte-instance_method">
  
    #<strong>each_byte</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Call the given block for each byte of +self+.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197
198
199
200
201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 194</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each_byte</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:each_byte</span>, &amp;block) <span style="color:#080;font-weight:bold">unless</span> block
  bytes = <span style="color:#069">self</span>.bytes
  pos = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> pos &lt; bytes.size
    block.call(bytes[pos])
    pos += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_char-instance_method">
  
    #<strong>each_char</strong>(&amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Call the given block for each character of
+self+.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


316
317
318
319
320
321
322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 316</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each_char</span>(&amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum <span style="color:#A60">:each_char</span> <span style="color:#080;font-weight:bold">unless</span> block
  pos = <span style="color:#00D">0</span>
  <span style="color:#080;font-weight:bold">while</span> pos &lt; <span style="color:#069">self</span>.size
    block.call(<span style="color:#069">self</span>[pos])
    pos += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_line-instance_method">
  
    #<strong>each_line</strong>(separator = &quot;\n&quot;, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Calls the given block for each line
and pass the respective line.</p>

<p>ISO 15.2.10.5.15</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 14</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">each_line</span>(separator = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:each_line</span>, separator) <span style="color:#080;font-weight:bold">unless</span> block

  <span style="color:#080;font-weight:bold">if</span> separator.nil?
    block.call(<span style="color:#069">self</span>)
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">end</span>
  raise <span style="color:#036;font-weight:bold">TypeError</span> <span style="color:#080;font-weight:bold">unless</span> separator.is_a?(<span style="color:#036;font-weight:bold">String</span>)

  paragraph_mode = <span style="color:#069">false</span>
  <span style="color:#080;font-weight:bold">if</span> separator.empty?
    paragraph_mode = <span style="color:#069">true</span>
    separator = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>
  start = <span style="color:#00D">0</span>
  string = dup
  self_len = length
  sep_len = separator.length
  should_yield_subclass_instances = <span style="color:#069">self</span>.class != <span style="color:#036;font-weight:bold">String</span>

  <span style="color:#080;font-weight:bold">while</span> (pointer = string.index(separator, start))
    pointer += sep_len
    pointer += <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">while</span> paragraph_mode &amp;&amp; string[pointer] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">if</span> should_yield_subclass_instances
      block.call(<span style="color:#069">self</span>.class.new(string[start, pointer - start]))
    <span style="color:#080;font-weight:bold">else</span>
      block.call(string[start, pointer - start])
    <span style="color:#080;font-weight:bold">end</span>
    start = pointer
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span> <span style="color:#080;font-weight:bold">if</span> start == self_len

  <span style="color:#080;font-weight:bold">if</span> should_yield_subclass_instances
    block.call(<span style="color:#069">self</span>.class.new(string[start, self_len - start]))
  <span style="color:#080;font-weight:bold">else</span>
    block.call(string[start, self_len - start])
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    #<strong>empty?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if <i>str</i> has a length of zero.</p>

<p>“hello”.empty?   #=&gt; false
   ““.empty?        #=&gt; true</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1759
1760
1761
1762
1763
1764
1765</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1759</span>

static mrb_value
mrb_str_empty_p(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(<span style="color:#069">self</span>);

  <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(RSTR_LEN(s) == <span style="color:#00D">0</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="end_with?-instance_method">
  
    #<strong>end_with?</strong>([suffixes])  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns true if +str+ ends with one of the +suffixes+ given.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 224</span>

static mrb_value
mrb_str_end_with(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value *argv, sub;
  mrb_int argc, i;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*</span><span style="color:#710">&quot;</span></span>, &amp;argv, &amp;argc);

  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; argc; i++) {
    size_t len_l, len_r;
    int ai = mrb_gc_arena_save(mrb);
    sub = mrb_ensure_string_type(mrb, argv[i]);
    mrb_gc_arena_restore(mrb, ai);
    len_l = RSTRING_LEN(<span style="color:#069">self</span>);
    len_r = RSTRING_LEN(sub);
    <span style="color:#080;font-weight:bold">if</span> (len_l &gt;= len_r) {
      <span style="color:#080;font-weight:bold">if</span> (memcmp(RSTRING_PTR(<span style="color:#069">self</span>) + (len_l - len_r),
                 RSTRING_PTR(sub),
                 len_r) == <span style="color:#00D">0</span>) {
        <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
      }
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eql?-instance_method">
  
    #<strong>eql?</strong>(other)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Two strings are equal if the have the same length and content.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1774
1775
1776
1777
1778
1779
1780
1781
1782
1783
1784</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1774</span>

static mrb_value
mrb_str_eql(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str2;
  mrb_bool eql_p;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o</span><span style="color:#710">&quot;</span></span>, &amp;str2);
  eql_p = (mrb_string_p(str2)) &amp;&amp; str_eql(mrb, <span style="color:#069">self</span>, str2);

  <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(eql_p);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getbyte-instance_method">
  
    #<strong>getbyte</strong>(index)  &#x21d2; <tt>0 .. 255</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>returns the <i>index</i>th byte as an integer.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>0 .. 255</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2775
2776
2777
2778
2779
2780
2781
2782
2783
2784
2785
2786
2787</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2775</span>

static mrb_value
mrb_str_getbyte(mrb_state *mrb, mrb_value str)
{
  mrb_int pos;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">i</span><span style="color:#710">&quot;</span></span>, &amp;pos);

  <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span>)
    pos += RSTRING_LEN(str);
  <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span> ||  RSTRING_LEN(str) &lt;= pos)
    <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();

  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value((unsigned char)RSTRING_PTR(str)[pos]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gsub-instance_method">
  
    #<strong>gsub</strong>(*args, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Replace all matches of +pattern+ with +replacement+.
Call block (if given) for each match and replace
+pattern+ with the value of the block. Return the
final value.</p>

<p>ISO 15.2.10.5.18</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 87</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">gsub</span>(*args, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:gsub</span>, *args) <span style="color:#080;font-weight:bold">if</span> args.length == <span style="color:#00D">1</span> &amp;&amp; !block
  raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong number of arguments</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> (<span style="color:#00D">1</span>..<span style="color:#00D">2</span>).include?(args.length)

  pattern, replace = *args
  plen = pattern.length
  <span style="color:#080;font-weight:bold">if</span> args.length == <span style="color:#00D">2</span> &amp;&amp; block
    block = <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">if</span> !replace.nil? || !block
    replace.__to_str
  <span style="color:#080;font-weight:bold">end</span>
  offset = <span style="color:#00D">0</span>
  result = []
  <span style="color:#080;font-weight:bold">while</span> found = index(pattern, offset)
    result &lt;&lt; <span style="color:#069">self</span>[offset, found - offset]
    offset = found + plen
    result &lt;&lt; <span style="color:#080;font-weight:bold">if</span> block
      block.call(pattern).to_s
    <span style="color:#080;font-weight:bold">else</span>
      replace.__sub_replace(<span style="color:#069">self</span>[<span style="color:#00D">0</span>, found], pattern, <span style="color:#069">self</span>[offset..<span style="color:#00D">-1</span>] || <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">if</span> plen == <span style="color:#00D">0</span>
      result &lt;&lt; <span style="color:#069">self</span>[offset, <span style="color:#00D">1</span>]
      offset += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  result &lt;&lt; <span style="color:#069">self</span>[offset..<span style="color:#00D">-1</span>] <span style="color:#080;font-weight:bold">if</span> offset &lt; length
  result.join
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gsub!-instance_method">
  
    #<strong>gsub!</strong>(*args, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Replace all matches of +pattern+ with +replacement+.
Call block (if given) for each match and replace
+pattern+ with the value of the block. Modify
+self+ with the final value.</p>

<p>ISO 15.2.10.5.19</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FrozenError.html" title="FrozenError (class)">FrozenError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 125</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">gsub!</span>(*args, &amp;block)
  raise <span style="color:#036;font-weight:bold">FrozenError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't modify frozen String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> frozen?
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:gsub!</span>, *args) <span style="color:#080;font-weight:bold">if</span> args.length == <span style="color:#00D">1</span> &amp;&amp; !block
  str = <span style="color:#069">self</span>.gsub(*args, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">unless</span> <span style="color:#069">self</span>.index(args[<span style="color:#00D">0</span>])
  <span style="color:#069">self</span>.replace(str)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hash-instance_method">
  
    #<strong>hash</strong>  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Return a hash based on the string’s length and content.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1815
1816
1817
1818
1819
1820</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1815</span>

static mrb_value
mrb_str_hash_m(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int key = mrb_str_hash(mrb, <span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(key);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hex-instance_method">
  
    #<strong>hex</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


834
835
836
837
838</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 834</span>

static mrb_value
mrb_str_hex(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_str_to_inum(mrb, <span style="color:#069">self</span>, <span style="color:#00D">16</span>, <span style="color:#069">FALSE</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="include?-instance_method">
  
    
      <span class="overload">#<strong>include?</strong>(other_str)  &#x21d2; <tt>Boolean</tt> </span>
    
      <span class="overload">#<strong>include?</strong>(fixnum)  &#x21d2; <tt>Boolean</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns <code>true</code> if <i>str</i> contains the given string or
character.</p>

<p>“hello”.include? “lo”   #=&gt; true
   “hello”.include? “ol”   #=&gt; false
   “hello”.include? ?h     #=&gt; true</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>include?</strong>(other_str)  &#x21d2; <tt>Boolean</tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>include?</strong>(fixnum)  &#x21d2; <tt>Boolean</tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1835
1836
1837
1838
1839
1840
1841
1842
1843
1844</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1835</span>

static mrb_value
mrb_str_include(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;str2);
  <span style="color:#080;font-weight:bold">if</span> (str_index_str(mrb, <span style="color:#069">self</span>, str2, <span style="color:#00D">0</span>) &lt; <span style="color:#00D">0</span>)
    <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(<span style="color:#069">FALSE</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_bool_value(<span style="color:#069">TRUE</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index-instance_method">
  
    #<strong>index</strong>(substring[, offset])  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the index of the first occurrence of the given
<i>substring</i>. Returns <code>nil</code> if not found.
If the second parameter is present, it
specifies the position in the string to begin the search.</p>

<p>“hello”.index(‘l’)             #=&gt; 2
   “hello”.index(‘lo’)            #=&gt; 3
   “hello”.index(‘a’)             #=&gt; nil
   “hello”.index(‘l’, -2)         #=&gt; 3</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871
1872
1873
1874
1875
1876
1877
1878
1879
1880
1881
1882</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1861</span>

static mrb_value
mrb_str_index_m(mrb_state *mrb, mrb_value str)
{
  mrb_value sub;
  mrb_int pos;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S|i</span><span style="color:#710">&quot;</span></span>, &amp;sub, &amp;pos) == <span style="color:#00D">1</span>) {
    pos = <span style="color:#00D">0</span>;
  }
  <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span>) {
    mrb_int clen = RSTRING_CHAR_LEN(str);
    pos += clen;
    <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span>) {
      <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
    }
  }
  pos = str_index_str_by_char(mrb, str, sub, pos);

  <span style="color:#080;font-weight:bold">if</span> (pos == <span style="color:#00D">-1</span>) <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
  BYTES_ALIGN_CHECK(pos);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(pos);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize_copy-instance_method">
  
    #<strong>replace</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>s = “hello”         #=&gt; “hello”
   s.replace “world”   #=&gt; “world”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1893
1894
1895
1896
1897
1898
1899
1900</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1893</span>

static mrb_value
mrb_str_replace(mrb_state *mrb, mrb_value str)
{
  mrb_value str2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;str2);
  <span style="color:#080;font-weight:bold">return</span> str_replace(mrb, mrb_str_ptr(str), mrb_str_ptr(str2));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert-instance_method">
  
    #<strong>insert</strong>(idx, str)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    str.insert(index, other_str)   -&gt; str</p>

<p>Inserts <i>other_str</i> before the character at the given
 <i>index</i>, modifying <i>str</i>. Negative indices count from the
 end of the string, and insert <em>after</em> the given character.
 The intent is insert <i>aString</i> so that it starts at the given
 <i>index</i>.</p>

<pre class="code ruby"><code class="ruby"><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">abcd</span><span style="color:#710">&quot;</span></span>.insert(<span style="color:#00D">0</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">X</span><span style="color:#710">'</span></span>)    <span style="color:#777">#=&gt; &quot;Xabcd&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">abcd</span><span style="color:#710">&quot;</span></span>.insert(<span style="color:#00D">3</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">X</span><span style="color:#710">'</span></span>)    <span style="color:#777">#=&gt; &quot;abcXd&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">abcd</span><span style="color:#710">&quot;</span></span>.insert(<span style="color:#00D">4</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">X</span><span style="color:#710">'</span></span>)    <span style="color:#777">#=&gt; &quot;abcdX&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">abcd</span><span style="color:#710">&quot;</span></span>.insert(<span style="color:#00D">-3</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">X</span><span style="color:#710">'</span></span>)   <span style="color:#777">#=&gt; &quot;abXcd&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">abcd</span><span style="color:#710">&quot;</span></span>.insert(<span style="color:#00D">-1</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">X</span><span style="color:#710">'</span></span>)   <span style="color:#777">#=&gt; &quot;abcdX&quot;</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256
257
258
259
260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 254</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">insert</span>(idx, str)
  <span style="color:#080;font-weight:bold">if</span> idx == <span style="color:#00D">-1</span>
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span> &lt;&lt; str
  <span style="color:#080;font-weight:bold">elsif</span> idx &lt; <span style="color:#00D">0</span>
    idx += <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>[idx, <span style="color:#00D">0</span>] = str
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a printable version of <em>str</em>, surrounded by quote marks,
with special characters escaped.</p>

<p>str = “hello”
   str[3] = “\b”
   str.inspect       #=&gt; “"hel\bo"”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2740
2741
2742
2743
2744</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2740</span>

mrb_value
mrb_str_inspect(mrb_state *mrb, mrb_value str)
{
  <span style="color:#080;font-weight:bold">return</span> str_escape(mrb, str, <span style="color:#069">TRUE</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="intern-instance_method">
  
    
      <span class="overload">#<strong>intern</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>to_sym</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the <code>Symbol</code> corresponding to <i>str</i>, creating the
symbol if it did not previously exist. See <code>Symbol#id2name</code>.</p>

<p>“Koala”.intern         #=&gt; :Koala
   s = ‘cat’.to_sym       #=&gt; :cat
   s == :cat              #=&gt; true
   s = ‘@cat’.to_sym      #=&gt; :@cat
   s == :@cat             #=&gt; true</p>

<p>This can also be used to create symbols that cannot be represented using the
<code>:xxx</code> notation.</p>

<p>‘cat and dog’.to_sym   #=&gt; :”cat and dog”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1943
1944
1945
1946
1947</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1943</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_str_intern(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_symbol_value(mrb_intern_str(mrb, <span style="color:#069">self</span>));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last-instance_method">
  
    
      <span class="overload">#<strong>last</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>last</strong>(n)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the last object in the range,
or an array of the last +n+ elements.</p>

<p>Note that with no arguments +last+ will return the object that defines
the end of the range even if #exclude_end? is +true+.</p>

<p>(10..20).last      #=&gt; 20
  (10…20).last     #=&gt; 20
  (10..20).last(3)   #=&gt; [18, 19, 20]
  (10…20).last(3)  #=&gt; [17, 18, 19]</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>last</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>last</strong>(n)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-range-ext/src/range.c', line 76</span>

static mrb_value
range_last(mrb_state *mrb, mrb_value range)
{
  mrb_value num;
  mrb_value array;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|o</span><span style="color:#710">&quot;</span></span>, &amp;num) == <span style="color:#00D">0</span>) {
    <span style="color:#080;font-weight:bold">return</span> mrb_range_end(mrb, range);
  }

  array = mrb_funcall(mrb, range, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">to_a</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">0</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_funcall(mrb, array, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">last</span><span style="color:#710">&quot;</span></span>, <span style="color:#00D">1</span>, mrb_to_int(mrb, num));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    #<strong>length</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Same as <code>sym.to_s.length</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


929
930
931
932
933
934</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 929</span>

static mrb_value
mrb_str_size(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int len = RSTRING_CHAR_LEN(<span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lines-instance_method">
  
    #<strong>lines</strong>(&amp;blk)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   string.lines                -&gt;  array of string
   string.lines {|s| block}    -&gt;  array of string</p>

<p>Returns strings per line;</p>

<p>a = “abc\ndef”
   a.lines    #=&gt; [“abc\n”, “def”]</p>

<p>If a block is given, it works the same as <code>each_line</code>.</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


365
366
367
368
369
370
371
372
373</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 365</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">lines</span>(&amp;blk)
  lines = <span style="color:#069">self</span>.__lines
  <span style="color:#080;font-weight:bold">if</span> blk
    lines.each <span style="color:#080;font-weight:bold">do</span> |line|
      blk.call(line)
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  lines
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ljust-instance_method">
  
    #<strong>ljust</strong>(idx, padstr = &#39; &#39;)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    str.ljust(integer, padstr=’ ‘)   -&gt; new_str</p>

<p>If <i>integer</i> is greater than the length of <i>str</i>, returns a new
 <code>String</code> of length <i>integer</i> with <i>str</i> left justified
 and padded with <i>padstr</i>; otherwise, returns <i>str</i>.</p>

<pre class="code ruby"><code class="ruby"><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>.ljust(<span style="color:#00D">4</span>)            <span style="color:#777">#=&gt; &quot;hello&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>.ljust(<span style="color:#00D">20</span>)           <span style="color:#777">#=&gt; &quot;hello               &quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>.ljust(<span style="color:#00D">20</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234</span><span style="color:#710">'</span></span>)   <span style="color:#777">#=&gt; &quot;hello123412341234123&quot;</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277
278
279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 275</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">ljust</span>(idx, padstr = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20"> </span><span style="color:#710">'</span></span>)
  raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">zero width padding</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">if</span> padstr == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span> <span style="color:#080;font-weight:bold">if</span> idx &lt;= <span style="color:#069">self</span>.size
  pad_repetitions = (idx / padstr.length).ceil
  padding = (padstr * pad_repetitions)[<span style="color:#00D">0</span>...(idx - <span style="color:#069">self</span>.length)]
  <span style="color:#069">self</span> + padding
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lstrip-instance_method">
  
    #<strong>lstrip</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.lstrip   -&gt; new_str</p>

<p>Returns a copy of <i>str</i> with leading whitespace removed. See also
<code>String#rstrip</code> and <code>String#strip</code>.</p>

<p>”  hello  “.lstrip   #=&gt; “hello  “
   “hello”.lstrip       #=&gt; “hello”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 26</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">lstrip</span>
  a = <span style="color:#00D">0</span>
  z = <span style="color:#069">self</span>.size - <span style="color:#00D">1</span>
  a += <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">while</span> a &lt;= z <span style="color:#080;font-weight:bold">and</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#b0b">\f</span><span style="color:#b0b">\n</span><span style="color:#b0b">\r</span><span style="color:#b0b">\t</span><span style="color:#b0b">\v</span><span style="color:#710">&quot;</span></span>.include?(<span style="color:#069">self</span>[a])
  (z &gt;= <span style="color:#00D">0</span>) ? <span style="color:#069">self</span>[a..z] : <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lstrip!-instance_method">
  
    #<strong>lstrip!</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.lstrip!   -&gt; self or nil</p>

<p>Removes leading whitespace from <i>str</i>, returning <code>nil</code> if no
change was made. See also <code>String#rstrip!</code> and
<code>String#strip!</code>.</p>

<p>”  hello  “.lstrip   #=&gt; “hello  “
   “hello”.lstrip!      #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FrozenError.html" title="FrozenError (class)">FrozenError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 78</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">lstrip!</span>
  raise <span style="color:#036;font-weight:bold">FrozenError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't modify frozen String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> frozen?
  s = <span style="color:#069">self</span>.lstrip
  (s == <span style="color:#069">self</span>) ? <span style="color:#069">nil</span> : <span style="color:#069">self</span>.replace(s)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="next-instance_method">
  
    #<strong>next</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


986
987
988
989
990
991
992
993
994</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 986</span>

static mrb_value
mrb_str_succ(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_succ_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="next!-instance_method">
  
    #<strong>succ</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns next sequence of the string;</p>

<p>a = “abc”
   a.succ    #=&gt; “abd”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 908</span>

static mrb_value
mrb_str_succ_bang(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value result;
  unsigned char *p, *e, *b, *t;
  const char *prepend;
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(<span style="color:#069">self</span>);
  mrb_int l;

  <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(<span style="color:#069">self</span>) == <span style="color:#00D">0</span>)
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;

  mrb_str_modify(mrb, s);
  l = RSTRING_LEN(<span style="color:#069">self</span>);
  b = p = (unsigned char*) RSTRING_PTR(<span style="color:#069">self</span>);
  t = e = p + l;
  *(e--) = <span style="color:#00D">0</span>;

  <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#404">/</span></span> find trailing ascii/number
  <span style="color:#080;font-weight:bold">while</span> (e &gt;= b) {
    <span style="color:#080;font-weight:bold">if</span> (ISALNUM(*e))
      <span style="color:#080;font-weight:bold">break</span>;
    e--;
  }
  <span style="color:#080;font-weight:bold">if</span> (e &lt; b) {
    e = p + l - <span style="color:#00D">1</span>;
    result = mrb_str_new_lit(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">else</span> {
    <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#404">/</span></span> find leading letter of the ascii/number
    b = e;
    <span style="color:#080;font-weight:bold">while</span> (b &gt; p) {
      <span style="color:#080;font-weight:bold">if</span> (!ISALNUM(*b) || (ISALNUM(*b) &amp;&amp; *b != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">9</span><span style="color:#710">'</span></span> &amp;&amp; *b != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">z</span><span style="color:#710">'</span></span> &amp;&amp; *b != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Z</span><span style="color:#710">'</span></span>))
        <span style="color:#080;font-weight:bold">break</span>;
      b--;
    }
    <span style="color:#080;font-weight:bold">if</span> (!ISALNUM(*b))
      b++;
    result = mrb_str_new(mrb, (char*) p, b - p);
  }

  <span style="color:#080;font-weight:bold">while</span> (e &gt;= b) {
    <span style="color:#080;font-weight:bold">if</span> (!ISALNUM(*e)) {
      <span style="color:#080;font-weight:bold">if</span> (*e == <span style="color:#00D">0xff</span>) {
        mrb_str_cat_lit(mrb, result, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\x01</span><span style="color:#710">&quot;</span></span>);
        (*e) = <span style="color:#00D">0</span>;
      }
      <span style="color:#080;font-weight:bold">else</span>
        (*e)++;
      <span style="color:#080;font-weight:bold">break</span>;
    }
    prepend = <span style="color:#036;font-weight:bold">NULL</span>;
    <span style="color:#080;font-weight:bold">if</span> (*e == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">9</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (e == b) prepend = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1</span><span style="color:#710">&quot;</span></span>;
      *e = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">0</span><span style="color:#710">'</span></span>;
    }
    <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (*e == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">z</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (e == b) prepend = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>;
      *e = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span>;
    }
    <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (*e == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Z</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (e == b) prepend = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A</span><span style="color:#710">&quot;</span></span>;
      *e = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">A</span><span style="color:#710">'</span></span>;
    }
    <span style="color:#080;font-weight:bold">else</span> {
      (*e)++;
      <span style="color:#080;font-weight:bold">break</span>;
    }
    <span style="color:#080;font-weight:bold">if</span> (prepend) mrb_str_cat_cstr(mrb, result, prepend);
    e--;
  }
  result = mrb_str_cat(mrb, result, (char*) b, t - b);
  l = RSTRING_LEN(result);
  mrb_str_resize(mrb, <span style="color:#069">self</span>, l);
  memcpy(RSTRING_PTR(<span style="color:#069">self</span>), RSTRING_PTR(result), l);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="oct-instance_method">
  
    #<strong>oct</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


840
841
842
843
844</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 840</span>

static mrb_value
mrb_str_oct(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_str_to_inum(mrb, <span style="color:#069">self</span>, <span style="color:#00D">8</span>, <span style="color:#069">FALSE</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ord-instance_method">
  
    #<strong>ord</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1053
1054
1055
1056
1057
1058
1059</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 1053</span>

static mrb_value
mrb_str_ord(mrb_state* mrb, mrb_value str)
{
  <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(str) == <span style="color:#00D">0</span>)
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">empty string</span><span style="color:#710">&quot;</span></span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value((unsigned char)RSTRING_PTR(str)[<span style="color:#00D">0</span>]);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="partition-instance_method">
  
    #<strong>partition</strong>(sep)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 144</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">partition</span>(sep)
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">type mismatch: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>sep.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> given</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> sep.is_a? <span style="color:#036;font-weight:bold">String</span>
  n = index(sep)
  <span style="color:#080;font-weight:bold">unless</span> n.nil?
    m = n + sep.size
    [ slice(<span style="color:#00D">0</span>, n), sep, slice(m, size - m) ]
  <span style="color:#080;font-weight:bold">else</span>
    [ <span style="color:#069">self</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span> ]
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prepend-instance_method">
  
    #<strong>prepend</strong>(arg)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.prepend(other_str)  -&gt; str</p>

<p>Prepend—Prepend the given string to <i>str</i>.</p>

<p>a = “world”
   a.prepend(“hello “) #=&gt; “hello world”
   a                   #=&gt; “hello world”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


349
350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 349</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">prepend</span>(arg)
  <span style="color:#069">self</span>[<span style="color:#00D">0</span>, <span style="color:#00D">0</span>] = arg
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="replace-instance_method">
  
    #<strong>replace</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>s = “hello”         #=&gt; “hello”
   s.replace “world”   #=&gt; “world”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1893
1894
1895
1896
1897
1898
1899
1900</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1893</span>

static mrb_value
mrb_str_replace(mrb_state *mrb, mrb_value str)
{
  mrb_value str2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S</span><span style="color:#710">&quot;</span></span>, &amp;str2);
  <span style="color:#080;font-weight:bold">return</span> str_replace(mrb, mrb_str_ptr(str), mrb_str_ptr(str2));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reverse-instance_method">
  
    #<strong>reverse</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new string with the characters from <i>str</i> in reverse order.</p>

<p>“stressed”.reverse   #=&gt; “desserts”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2054
2055
2056
2057
2058
2059
2060</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2054</span>

static mrb_value
mrb_str_reverse(mrb_state *mrb, mrb_value str)
{
  mrb_value str2 = mrb_str_dup(mrb, str);
  mrb_str_reverse_bang(mrb, str2);
  <span style="color:#080;font-weight:bold">return</span> str2;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reverse!-instance_method">
  
    #<strong>reverse!</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Reverses <i>str</i> in place.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2007
2008
2009
2010
2011
2012
2013
2014
2015
2016
2017
2018
2019
2020
2021
2022
2023
2024
2025
2026
2027
2028
2029
2030
2031
2032
2033
2034
2035
2036
2037
2038
2039
2040
2041
2042</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2007</span>

static mrb_value
mrb_str_reverse_bang(mrb_state *mrb, mrb_value str)
{
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);
  char *p, *e;

<span style="color:#777">#ifdef MRB_UTF8_STRING</span>
  mrb_int utf8_len = RSTRING_CHAR_LEN(str);
  mrb_int len = RSTR_LEN(s);

  <span style="color:#080;font-weight:bold">if</span> (utf8_len &lt; <span style="color:#00D">2</span>) <span style="color:#080;font-weight:bold">return</span> str;
  <span style="color:#080;font-weight:bold">if</span> (utf8_len &lt; len) {
    mrb_str_modify(mrb, s);
    p = RSTR_PTR(s);
    e = p + RSTR_LEN(s);
    <span style="color:#080;font-weight:bold">while</span> (p&lt;e) {
      mrb_int clen = utf8len(p, e);
      str_reverse(p, p + clen - <span style="color:#00D">1</span>);
      p += clen;
    }
    goto bytes;
  }
<span style="color:#777">#endif</span>

  <span style="color:#080;font-weight:bold">if</span> (RSTR_LEN(s) &gt; <span style="color:#00D">1</span>) {
    mrb_str_modify(mrb, s);
    goto bytes;
  }
  <span style="color:#080;font-weight:bold">return</span> str;

 <span style="color:#606">bytes</span>:
  p = RSTR_PTR(s);
  e = p + RSTR_LEN(s) - <span style="color:#00D">1</span>;
  str_reverse(p, e);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rindex-instance_method">
  
    #<strong>rindex</strong>(substring[, offset])  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the index of the last occurrence of the given <i>substring</i>.
Returns <code>nil</code> if not found. If the second parameter is
present, it specifies the position in the string to end the
search—characters beyond this point will not be considered.</p>

<p>“hello”.rindex(‘e’)             #=&gt; 1
   “hello”.rindex(‘l’)             #=&gt; 3
   “hello”.rindex(‘a’)             #=&gt; nil
   “hello”.rindex(‘l’, 2)          #=&gt; 2</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2077
2078
2079
2080
2081
2082
2083
2084
2085
2086
2087
2088
2089
2090
2091
2092
2093
2094
2095
2096
2097
2098
2099
2100
2101
2102
2103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2077</span>

static mrb_value
mrb_str_rindex(mrb_state *mrb, mrb_value str)
{
  mrb_value sub;
  mrb_int pos, len = RSTRING_CHAR_LEN(str);

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">S|i</span><span style="color:#710">&quot;</span></span>, &amp;sub, &amp;pos) == <span style="color:#00D">1</span>) {
    pos = len;
  }
  <span style="color:#080;font-weight:bold">else</span> {
    <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span>) {
      pos += len;
      <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span>) {
        <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
      }
    }
    <span style="color:#080;font-weight:bold">if</span> (pos &gt; len) pos = len;
  }
  pos = chars2bytes(str, <span style="color:#00D">0</span>, pos);
  pos = str_rindex(mrb, str, sub, pos);
  <span style="color:#080;font-weight:bold">if</span> (pos &gt;= <span style="color:#00D">0</span>) {
    pos = bytes2chars(RSTRING_PTR(str), RSTRING_LEN(str), pos);
    BYTES_ALIGN_CHECK(pos);
    <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(pos);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rjust-instance_method">
  
    #<strong>rjust</strong>(idx, padstr = &#39; &#39;)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    str.rjust(integer, padstr=’ ‘)   -&gt; new_str</p>

<p>If <i>integer</i> is greater than the length of <i>str</i>, returns a new
 <code>String</code> of length <i>integer</i> with <i>str</i> right justified
 and padded with <i>padstr</i>; otherwise, returns <i>str</i>.</p>

<pre class="code ruby"><code class="ruby"><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>.rjust(<span style="color:#00D">4</span>)            <span style="color:#777">#=&gt; &quot;hello&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>.rjust(<span style="color:#00D">20</span>)           <span style="color:#777">#=&gt; &quot;               hello&quot;</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>.rjust(<span style="color:#00D">20</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234</span><span style="color:#710">'</span></span>)   <span style="color:#777">#=&gt; &quot;123412341234123hello&quot;</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296
297
298
299
300</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 294</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rjust</span>(idx, padstr = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20"> </span><span style="color:#710">'</span></span>)
  raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">zero width padding</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">if</span> padstr == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span> <span style="color:#080;font-weight:bold">if</span> idx &lt;= <span style="color:#069">self</span>.size
  pad_repetitions = (idx / padstr.length).ceil
  padding = (padstr * pad_repetitions)[<span style="color:#00D">0</span>...(idx - <span style="color:#069">self</span>.length)]
  padding + <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rpartition-instance_method">
  
    #<strong>rpartition</strong>(sep)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 155</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rpartition</span>(sep)
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">type mismatch: </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>sep.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> given</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> sep.is_a? <span style="color:#036;font-weight:bold">String</span>
  n = rindex(sep)
  <span style="color:#080;font-weight:bold">unless</span> n.nil?
    m = n + sep.size
    [ slice(<span style="color:#00D">0</span>, n), sep, slice(m, size - m) ]
  <span style="color:#080;font-weight:bold">else</span>
    [ <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>, <span style="color:#069">self</span> ]
  <span style="color:#080;font-weight:bold">end</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rstrip-instance_method">
  
    #<strong>rstrip</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.rstrip   -&gt; new_str</p>

<p>Returns a copy of <i>str</i> with trailing whitespace removed. See also
<code>String#lstrip</code> and <code>String#strip</code>.</p>

<p>”  hello  “.rstrip   #=&gt; “  hello”
   “hello”.rstrip       #=&gt; “hello”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 43</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rstrip</span>
  a = <span style="color:#00D">0</span>
  z = <span style="color:#069">self</span>.size - <span style="color:#00D">1</span>
  z -= <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">while</span> a &lt;= z <span style="color:#080;font-weight:bold">and</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#b0b">\f</span><span style="color:#b0b">\n</span><span style="color:#b0b">\r</span><span style="color:#b0b">\t</span><span style="color:#b0b">\v</span><span style="color:#b0b">\0</span><span style="color:#710">&quot;</span></span>.include?(<span style="color:#069">self</span>[z])
  (z &gt;= <span style="color:#00D">0</span>) ? <span style="color:#069">self</span>[a..z] : <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rstrip!-instance_method">
  
    #<strong>rstrip!</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.rstrip!   -&gt; self or nil</p>

<p>Removes trailing whitespace from <i>str</i>, returning <code>nil</code> if
no change was made. See also <code>String#lstrip!</code> and
<code>String#strip!</code>.</p>

<p>”  hello  “.rstrip   #=&gt; “  hello”
   “hello”.rstrip!      #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FrozenError.html" title="FrozenError (class)">FrozenError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 95</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">rstrip!</span>
  raise <span style="color:#036;font-weight:bold">FrozenError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't modify frozen String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> frozen?
  s = <span style="color:#069">self</span>.rstrip
  (s == <span style="color:#069">self</span>) ? <span style="color:#069">nil</span> : <span style="color:#069">self</span>.replace(s)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setbyte-instance_method">
  
    #<strong>setbyte</strong>(index, integer)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>modifies the <i>index</i>th byte as <i>integer</i>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2795
2796
2797
2798
2799
2800
2801
2802
2803
2804
2805
2806
2807
2808
2809
2810
2811
2812
2813</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2795</span>

static mrb_value
mrb_str_setbyte(mrb_state *mrb, mrb_value str)
{
  mrb_int pos, byte;
  mrb_int len;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ii</span><span style="color:#710">&quot;</span></span>, &amp;pos, &amp;byte);

  len = RSTRING_LEN(str);
  <span style="color:#080;font-weight:bold">if</span> (pos &lt; -len || len &lt;= pos)
    mrb_raisef(mrb, <span style="color:#036;font-weight:bold">E_INDEX_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">index %i out of string</span><span style="color:#710">&quot;</span></span>, pos);
  <span style="color:#080;font-weight:bold">if</span> (pos &lt; <span style="color:#00D">0</span>)
    pos += len;

  mrb_str_modify(mrb, mrb_str_ptr(str));
  byte &amp;= <span style="color:#00D">0xff</span>;
  RSTRING_PTR(str)[pos] = (unsigned char)byte;
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value((unsigned char)byte);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size-instance_method">
  
    #<strong>length</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Same as <code>sym.to_s.length</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


929
930
931
932
933
934</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 929</span>

static mrb_value
mrb_str_size(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int len = RSTRING_CHAR_LEN(<span style="color:#069">self</span>);
  <span style="color:#080;font-weight:bold">return</span> mrb_fixnum_value(len);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice-instance_method">
  
    
      <span class="overload">#<strong>[]</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>[]</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>slice</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Element Reference—If passed a single <code>Fixnum</code>, returns the code
of the character at that position. If passed two <code>Fixnum</code>
objects, returns a substring starting at the offset given by the first, and
a length given by the second. If given a range, a substring containing
characters at offsets given by the range is returned. In all three cases, if
an offset is negative, it is counted from the end of <i>str</i>. Returns
<code>nil</code> if the initial offset falls outside the string, the length
is negative, or the beginning of the range is greater than the end.</p>

<p>If a <code>String</code> is given, that string is returned if it occurs in
<i>str</i>. In both cases, <code>nil</code> is returned if there is no
match.</p>

<p>a = “hello there”
   a[1]                   #=&gt; 101(1.8.7) “e”(1.9.2)
   a[1.1]                 #=&gt;            “e”(1.9.2)
   a[1,3]                 #=&gt; “ell”
   a[1..3]                #=&gt; “ell”
   a[-3,2]                #=&gt; “er”
   a[-4..-2]              #=&gt; “her”
   a[12..-1]              #=&gt; nil
   a[-2..-4]              #=&gt; “”
   a[“lo”]                #=&gt; “lo”
   a[“bye”]               #=&gt; nil</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>[]</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(fixnum)  &#x21d2; <tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(fixnum, fixnum)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>slice</strong>(other_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


      </li>
    
  </ul>


</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1269</span>

static mrb_value
mrb_str_aref_m(mrb_state *mrb, mrb_value str)
{
  mrb_value a1, a2;

  <span style="color:#080;font-weight:bold">if</span> (mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">o|o</span><span style="color:#710">&quot;</span></span>, &amp;a1, &amp;a2) == <span style="color:#00D">1</span>) {
    a2 = mrb_undef_value();
  }

  <span style="color:#080;font-weight:bold">return</span> mrb_str_aref(mrb, str, a1, a2);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice!-instance_method">
  
    #<strong>slice!</strong>(arg1, arg2 = nil)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.slice!(fixnum)           -&gt; new_str or nil
   str.slice!(fixnum, fixnum)   -&gt; new_str or nil
   str.slice!(range)            -&gt; new_str or nil
   str.slice!(other_str)        -&gt; new_str or nil</p>

<p>Deletes the specified portion from <i>str</i>, and returns the portion
deleted.</p>

<p>string = “this is a string”
   string.slice!(2)        #=&gt; “i”
   string.slice!(3..6)     #=&gt; “ is “
   string.slice!(“r”)      #=&gt; “r”
   string                  #=&gt; “thsa sting”</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FrozenError.html" title="FrozenError (class)">FrozenError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 182</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">slice!</span>(arg1, arg2=<span style="color:#069">nil</span>)
  raise <span style="color:#036;font-weight:bold">FrozenError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't modify frozen String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> frozen?
  raise <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong number of arguments (for 1..2)</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> arg1.nil? &amp;&amp; arg2.nil?

  <span style="color:#080;font-weight:bold">if</span> !arg1.nil? &amp;&amp; !arg2.nil?
    idx = arg1
    idx += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> arg1 &lt; <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">if</span> idx &gt;= <span style="color:#00D">0</span> &amp;&amp; idx &lt;= <span style="color:#069">self</span>.size &amp;&amp; arg2 &gt; <span style="color:#00D">0</span>
      str = <span style="color:#069">self</span>[idx, arg2]
    <span style="color:#080;font-weight:bold">else</span>
      <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">else</span>
    validated = <span style="color:#069">false</span>
    <span style="color:#080;font-weight:bold">if</span> arg1.kind_of?(<span style="color:#036;font-weight:bold">Range</span>)
      beg = arg1.begin
      ed = arg1.end
      beg += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> beg &lt; <span style="color:#00D">0</span>
      ed += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> ed &lt; <span style="color:#00D">0</span>
      ed -= <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">if</span> arg1.exclude_end?
      validated = <span style="color:#069">true</span>
    <span style="color:#080;font-weight:bold">elsif</span> arg1.kind_of?(<span style="color:#036;font-weight:bold">String</span>)
      validated = <span style="color:#069">true</span>
    <span style="color:#080;font-weight:bold">else</span>
      idx = arg1
      idx += <span style="color:#069">self</span>.size <span style="color:#080;font-weight:bold">if</span> arg1 &lt; <span style="color:#00D">0</span>
      validated = <span style="color:#069">true</span> <span style="color:#080;font-weight:bold">if</span> idx &gt;=<span style="color:#00D">0</span> &amp;&amp; arg1 &lt; <span style="color:#069">self</span>.size
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">if</span> validated
      str = <span style="color:#069">self</span>[arg1]
    <span style="color:#080;font-weight:bold">else</span>
      <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span>
    <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">unless</span> str.nil? || str == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
    <span style="color:#080;font-weight:bold">if</span> !arg1.nil? &amp;&amp; !arg2.nil?
      idx = arg1 &gt;= <span style="color:#00D">0</span> ? arg1 : <span style="color:#069">self</span>.size+arg1
      str2 = <span style="color:#069">self</span>[<span style="color:#00D">0</span>...idx] + <span style="color:#069">self</span>[idx+arg2..<span style="color:#00D">-1</span>].to_s
    <span style="color:#080;font-weight:bold">else</span>
      <span style="color:#080;font-weight:bold">if</span> arg1.kind_of?(<span style="color:#036;font-weight:bold">Range</span>)
        idx = beg &gt;= <span style="color:#00D">0</span> ? beg : <span style="color:#069">self</span>.size+beg
        idx2 = ed&gt;= <span style="color:#00D">0</span> ? ed : <span style="color:#069">self</span>.size+ed
        str2 = <span style="color:#069">self</span>[<span style="color:#00D">0</span>...idx] + <span style="color:#069">self</span>[idx2+<span style="color:#00D">1</span>..<span style="color:#00D">-1</span>].to_s
      <span style="color:#080;font-weight:bold">elsif</span> arg1.kind_of?(<span style="color:#036;font-weight:bold">String</span>)
        idx = <span style="color:#069">self</span>.index(arg1)
        str2 = <span style="color:#069">self</span>[<span style="color:#00D">0</span>...idx] + <span style="color:#069">self</span>[idx+arg1.size..<span style="color:#00D">-1</span>] <span style="color:#080;font-weight:bold">unless</span> idx.nil?
      <span style="color:#080;font-weight:bold">else</span>
        idx = arg1 &gt;= <span style="color:#00D">0</span> ? arg1 : <span style="color:#069">self</span>.size+arg1
        str2 = <span style="color:#069">self</span>[<span style="color:#00D">0</span>...idx] + <span style="color:#069">self</span>[idx+<span style="color:#00D">1</span>..<span style="color:#00D">-1</span>].to_s
      <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#069">self</span>.replace(str2) <span style="color:#080;font-weight:bold">unless</span> str2.nil?
  <span style="color:#080;font-weight:bold">end</span>
  str
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="split-instance_method">
  
    #<strong>split</strong>(separator = nil, [limit])  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Divides <i>str</i> into substrings based on a delimiter, returning an array
of these substrings.</p>

<p>If <i>separator</i> is a <code>String</code>, then its contents are used as
the delimiter when splitting <i>str</i>. If <i>separator</i> is a single
space, <i>str</i> is split on whitespace, with leading whitespace and runs
of contiguous whitespace characters ignored.</p>

<p>If <i>separator</i> is omitted or <code>nil</code> (which is the default),
<i>str</i> is split on whitespace as if ‘ ‘ were specified.</p>

<p>If the <i>limit</i> parameter is omitted, trailing null fields are
suppressed. If <i>limit</i> is a positive number, at most that number of
fields will be returned (if <i>limit</i> is <code>1</code>, the entire
string is returned as the only entry in an array). If negative, there is no
limit to the number of fields returned, and trailing null fields are not
suppressed.</p>

<p>” now’s  the time”.split        #=&gt; [“now’s”, “the”, “time”]
   “ now’s  the time”.split(‘ ‘)   #=&gt; [“now’s”, “the”, “time”]</p>

<p>“mellow yellow”.split(“ello”)   #=&gt; [“m”, “w y”, “w”]
   “1,2,,3,4,,”.split(‘,’)         #=&gt; [“1”, “2”, “”, “3”, “4”]
   “1,2,,3,4,,”.split(‘,’, 4)      #=&gt; [“1”, “2”, “”, “3,4,,”]
   “1,2,,3,4,,”.split(‘,’, -4)     #=&gt; [“1”, “2”, “”, “3”, “4”, “”, “”]</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2138
2139
2140
2141
2142
2143
2144
2145
2146
2147
2148
2149
2150
2151
2152
2153
2154
2155
2156
2157
2158
2159
2160
2161
2162
2163
2164
2165
2166
2167
2168
2169
2170
2171
2172
2173
2174
2175
2176
2177
2178
2179
2180
2181
2182
2183
2184
2185
2186
2187
2188
2189
2190
2191
2192
2193
2194
2195
2196
2197
2198
2199
2200
2201
2202
2203
2204
2205
2206
2207
2208
2209
2210
2211
2212
2213
2214
2215
2216
2217
2218
2219
2220
2221
2222
2223
2224
2225
2226
2227
2228
2229
2230
2231
2232
2233
2234
2235
2236
2237
2238
2239
2240
2241
2242
2243
2244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2138</span>

static mrb_value
mrb_str_split_m(mrb_state *mrb, mrb_value str)
{
  mrb_int argc;
  mrb_value spat = mrb_nil_value();
  enum {awk, string} split_type = string;
  mrb_int i = <span style="color:#00D">0</span>;
  mrb_int beg;
  mrb_int <span style="color:#080;font-weight:bold">end</span>;
  mrb_int lim = <span style="color:#00D">0</span>;
  mrb_bool lim_p;
  mrb_value result, tmp;

  argc = mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|oi</span><span style="color:#710">&quot;</span></span>, &amp;spat, &amp;lim);
  lim_p = (lim &gt; <span style="color:#00D">0</span> &amp;&amp; argc == <span style="color:#00D">2</span>);
  <span style="color:#080;font-weight:bold">if</span> (argc == <span style="color:#00D">2</span>) {
    <span style="color:#080;font-weight:bold">if</span> (lim == <span style="color:#00D">1</span>) {
      <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(str) == <span style="color:#00D">0</span>)
        <span style="color:#080;font-weight:bold">return</span> mrb_ary_new_capa(mrb, <span style="color:#00D">0</span>);
      <span style="color:#080;font-weight:bold">return</span> mrb_ary_new_from_values(mrb, <span style="color:#00D">1</span>, &amp;str);
    }
    i = <span style="color:#00D">1</span>;
  }

  <span style="color:#080;font-weight:bold">if</span> (argc == <span style="color:#00D">0</span> || mrb_nil_p(spat)) {
    split_type = awk;
  }
  <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (!mrb_string_p(spat)) {
    mrb_raise(mrb, <span style="color:#036;font-weight:bold">E_TYPE_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">expected String</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(spat) == <span style="color:#00D">1</span> &amp;&amp; RSTRING_PTR(spat)[<span style="color:#00D">0</span>] == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20"> </span><span style="color:#710">'</span></span>) {
    split_type = awk;
  }

  result = mrb_ary_new(mrb);
  beg = <span style="color:#00D">0</span>;
  <span style="color:#080;font-weight:bold">if</span> (split_type == awk) {
    mrb_bool skip = <span style="color:#069">TRUE</span>;
    mrb_int idx = <span style="color:#00D">0</span>;
    mrb_int str_len = RSTRING_LEN(str);
    unsigned int c;
    int ai = mrb_gc_arena_save(mrb);

    idx = <span style="color:#080;font-weight:bold">end</span> = beg;
    <span style="color:#080;font-weight:bold">while</span> (idx &lt; str_len) {
      c = (unsigned char)RSTRING_PTR(str)[idx++];
      <span style="color:#080;font-weight:bold">if</span> (skip) {
        <span style="color:#080;font-weight:bold">if</span> (ISSPACE(c)) {
          beg = idx;
        }
        <span style="color:#080;font-weight:bold">else</span> {
          <span style="color:#080;font-weight:bold">end</span> = idx;
          skip = <span style="color:#069">FALSE</span>;
          <span style="color:#080;font-weight:bold">if</span> (lim_p &amp;&amp; lim &lt;= i) <span style="color:#080;font-weight:bold">break</span>;
        }
      }
      <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (ISSPACE(c)) {
        mrb_ary_push(mrb, result, mrb_str_byte_subseq(mrb, str, beg, <span style="color:#080;font-weight:bold">end</span>-beg));
        mrb_gc_arena_restore(mrb, ai);
        skip = <span style="color:#069">TRUE</span>;
        beg = idx;
        <span style="color:#080;font-weight:bold">if</span> (lim_p) ++i;
      }
      <span style="color:#080;font-weight:bold">else</span> {
        <span style="color:#080;font-weight:bold">end</span> = idx;
      }
    }
  }
  <span style="color:#080;font-weight:bold">else</span> {                        <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">* split_type == string *</span><span style="color:#404">/</span></span>
    mrb_int str_len = RSTRING_LEN(str);
    mrb_int pat_len = RSTRING_LEN(spat);
    mrb_int idx = <span style="color:#00D">0</span>;
    int ai = mrb_gc_arena_save(mrb);

    <span style="color:#080;font-weight:bold">while</span> (idx &lt; str_len) {
      <span style="color:#080;font-weight:bold">if</span> (pat_len &gt; <span style="color:#00D">0</span>) {
        <span style="color:#080;font-weight:bold">end</span> = mrb_memsearch(RSTRING_PTR(spat), pat_len, RSTRING_PTR(str)+idx, str_len - idx);
        <span style="color:#080;font-weight:bold">if</span> (<span style="color:#080;font-weight:bold">end</span> &lt; <span style="color:#00D">0</span>) <span style="color:#080;font-weight:bold">break</span>;
      }
      <span style="color:#080;font-weight:bold">else</span> {
        <span style="color:#080;font-weight:bold">end</span> = chars2bytes(str, idx, <span style="color:#00D">1</span>);
      }
      mrb_ary_push(mrb, result, mrb_str_byte_subseq(mrb, str, idx, <span style="color:#080;font-weight:bold">end</span>));
      mrb_gc_arena_restore(mrb, ai);
      idx += <span style="color:#080;font-weight:bold">end</span> + pat_len;
      <span style="color:#080;font-weight:bold">if</span> (lim_p &amp;&amp; lim &lt;= ++i) <span style="color:#080;font-weight:bold">break</span>;
    }
    beg = idx;
  }
  <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(str) &gt; <span style="color:#00D">0</span> &amp;&amp; (lim_p || RSTRING_LEN(str) &gt; beg || lim &lt; <span style="color:#00D">0</span>)) {
    <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(str) == beg) {
      tmp = mrb_str_new_empty(mrb, str);
    }
    <span style="color:#080;font-weight:bold">else</span> {
      tmp = mrb_str_byte_subseq(mrb, str, beg, RSTRING_LEN(str)-beg);
    }
    mrb_ary_push(mrb, result, tmp);
  }
  <span style="color:#080;font-weight:bold">if</span> (!lim_p &amp;&amp; lim == <span style="color:#00D">0</span>) {
    mrb_int len;
    <span style="color:#080;font-weight:bold">while</span> ((len = RARRAY_LEN(result)) &gt; <span style="color:#00D">0</span> &amp;&amp;
           (tmp = RARRAY_PTR(result)[len-<span style="color:#00D">1</span>], RSTRING_LEN(tmp) == <span style="color:#00D">0</span>))
      mrb_ary_pop(mrb, result);
  }

  <span style="color:#080;font-weight:bold">return</span> result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="squeeze-instance_method">
  
    #<strong>squeeze</strong>([other_str])  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Builds a set of characters from the other_str
parameter(s) using the procedure described for String#count. Returns a
new string where runs of the same character that occur in this set are
replaced by a single character. If no arguments are given, all runs of
identical characters are replaced by a single character.</p>

<p>“yellow moon”.squeeze                  #=&gt; “yelow mon”
 “  now   is  the”.squeeze(“ “)         #=&gt; “ now is the”
 “putters shoot balls”.squeeze(“m-z”)   #=&gt; “puters shot balls”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


712
713
714
715
716
717
718
719
720
721
722</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 712</span>

static mrb_value
mrb_str_squeeze(mrb_state *mrb, mrb_value str)
{
  mrb_value pat = mrb_nil_value();
  mrb_value dup;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|S</span><span style="color:#710">&quot;</span></span>, &amp;pat);
  dup = mrb_str_dup(mrb, str);
  str_squeeze(mrb, dup, pat);
  <span style="color:#080;font-weight:bold">return</span> dup;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="squeeze!-instance_method">
  
    #<strong>squeeze!</strong>([other_str])  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Squeezes str in place, returning either str, or nil if no
changes were made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


731
732
733
734
735
736
737
738
739
740
741</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 731</span>

static mrb_value
mrb_str_squeeze_bang(mrb_state *mrb, mrb_value str)
{
  mrb_value pat = mrb_nil_value();

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|S</span><span style="color:#710">&quot;</span></span>, &amp;pat);
  <span style="color:#080;font-weight:bold">if</span> (str_squeeze(mrb, str, pat)) {
    <span style="color:#080;font-weight:bold">return</span> str;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start_with?-instance_method">
  
    #<strong>start_with?</strong>([prefixes])  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns true if +str+ starts with one of the +prefixes+ given.</p>

<p>“hello”.start_with?(“hell”)               #=&gt; true</p>

<p># returns true if one of the prefixes matches.
  “hello”.start_with?(“heaven”, “hell”)     #=&gt; true
  “hello”.start_with?(“heaven”, “paradise”) #=&gt; false
  “h”.start_with?(“heaven”, “hell”)         #=&gt; false</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 195</span>

static mrb_value
mrb_str_start_with(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value *argv, sub;
  mrb_int argc, i;
  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">*</span><span style="color:#710">&quot;</span></span>, &amp;argv, &amp;argc);

  <span style="color:#080;font-weight:bold">for</span> (i = <span style="color:#00D">0</span>; i &lt; argc; i++) {
    size_t len_l, len_r;
    int ai = mrb_gc_arena_save(mrb);
    sub = mrb_ensure_string_type(mrb, argv[i]);
    mrb_gc_arena_restore(mrb, ai);
    len_l = RSTRING_LEN(<span style="color:#069">self</span>);
    len_r = RSTRING_LEN(sub);
    <span style="color:#080;font-weight:bold">if</span> (len_l &gt;= len_r) {
      <span style="color:#080;font-weight:bold">if</span> (memcmp(RSTRING_PTR(<span style="color:#069">self</span>), RSTRING_PTR(sub), len_r) == <span style="color:#00D">0</span>) {
        <span style="color:#080;font-weight:bold">return</span> mrb_true_value();
      }
    }
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_false_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="strip-instance_method">
  
    #<strong>strip</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
   str.strip   -&gt; new_str</p>

<p>Returns a copy of <i>str</i> with leading and trailing whitespace removed.</p>

<p>”    hello    “.strip   #=&gt; “hello”
   “\tgoodbye\r\n”.strip   #=&gt; “goodbye”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 59</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">strip</span>
  a = <span style="color:#00D">0</span>
  z = <span style="color:#069">self</span>.size - <span style="color:#00D">1</span>
  a += <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">while</span> a &lt;= z <span style="color:#080;font-weight:bold">and</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#b0b">\f</span><span style="color:#b0b">\n</span><span style="color:#b0b">\r</span><span style="color:#b0b">\t</span><span style="color:#b0b">\v</span><span style="color:#710">&quot;</span></span>.include?(<span style="color:#069">self</span>[a])
  z -= <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">while</span> a &lt;= z <span style="color:#080;font-weight:bold">and</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20"> </span><span style="color:#b0b">\f</span><span style="color:#b0b">\n</span><span style="color:#b0b">\r</span><span style="color:#b0b">\t</span><span style="color:#b0b">\v</span><span style="color:#b0b">\0</span><span style="color:#710">&quot;</span></span>.include?(<span style="color:#069">self</span>[z])
  (z &gt;= <span style="color:#00D">0</span>) ? <span style="color:#069">self</span>[a..z] : <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="strip!-instance_method">
  
    #<strong>strip!</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    str.strip!   -&gt; str or nil</p>

<p>Removes leading and trailing whitespace from <i>str</i>. Returns
 <code>nil</code> if <i>str</i> was not altered.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FrozenError.html" title="FrozenError (class)">FrozenError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 108</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">strip!</span>
  raise <span style="color:#036;font-weight:bold">FrozenError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't modify frozen String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> frozen?
  s = <span style="color:#069">self</span>.strip
  (s == <span style="color:#069">self</span>) ? <span style="color:#069">nil</span> : <span style="color:#069">self</span>.replace(s)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="strip_heredoc-instance_method">
  
    #<strong>strip_heredoc</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-support/mrblib/string.rb', line 11</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">strip_heredoc</span>
  gsub(<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">^</span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>scan(<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">^[ </span><span style="color:#D20">\t</span><span style="color:#808">]*(?=</span><span style="color:#D20">\S</span><span style="color:#808">)</span><span style="color:#404">/</span></span>).min<span style="font-weight:bold;color:#666">}</span></span><span style="color:#404">/</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>.freeze)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sub-instance_method">
  
    #<strong>sub</strong>(*args, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Replace only the first match of +pattern+ with
+replacement+. Call block (if given) for each
match and replace +pattern+ with the value of the
block. Return the final value.</p>

<p>ISO 15.2.10.5.36</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 150</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">sub</span>(*args, &amp;block)
  <span style="color:#080;font-weight:bold">unless</span> (<span style="color:#00D">1</span>..<span style="color:#00D">2</span>).include?(args.length)
    raise <span style="color:#036;font-weight:bold">ArgumentError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">wrong number of arguments (given </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>args.length<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20">, expected 2)</span><span style="color:#710">&quot;</span></span>
  <span style="color:#080;font-weight:bold">end</span>

  pattern, replace = *args
  pattern.__to_str
  <span style="color:#080;font-weight:bold">if</span> args.length == <span style="color:#00D">2</span> &amp;&amp; block
    block = <span style="color:#069">nil</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#080;font-weight:bold">unless</span> block
    replace.__to_str
  <span style="color:#080;font-weight:bold">end</span>
  result = []
  this = dup
  found = index(pattern)
  <span style="color:#080;font-weight:bold">return</span> this <span style="color:#080;font-weight:bold">unless</span> found
  result &lt;&lt; this[<span style="color:#00D">0</span>, found]
  offset = found + pattern.length
  result &lt;&lt; <span style="color:#080;font-weight:bold">if</span> block
    block.call(pattern).to_s
  <span style="color:#080;font-weight:bold">else</span>
    replace.__sub_replace(this[<span style="color:#00D">0</span>, found], pattern, this[offset..<span style="color:#00D">-1</span>] || <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#080;font-weight:bold">end</span>
  result &lt;&lt; this[offset..<span style="color:#00D">-1</span>] <span style="color:#080;font-weight:bold">if</span> offset &lt; length
  result.join
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sub!-instance_method">
  
    #<strong>sub!</strong>(*args, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Replace only the first match of +pattern+ with
+replacement+. Call block (if given) for each
match and replace +pattern+ with the value of the
block. Modify +self+ with the final value.</p>

<p>ISO 15.2.10.5.37</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="FrozenError.html" title="FrozenError (class)">FrozenError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrblib/string.rb', line 185</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">sub!</span>(*args, &amp;block)
  raise <span style="color:#036;font-weight:bold">FrozenError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">can't modify frozen String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">if</span> frozen?
  str = <span style="color:#069">self</span>.sub(*args, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">nil</span> <span style="color:#080;font-weight:bold">unless</span> <span style="color:#069">self</span>.index(args[<span style="color:#00D">0</span>])
  <span style="color:#069">self</span>.replace(str)
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="succ-instance_method">
  
    #<strong>succ</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


986
987
988
989
990
991
992
993
994</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 986</span>

static mrb_value
mrb_str_succ(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_succ_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="succ!-instance_method">
  
    #<strong>succ</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns next sequence of the string;</p>

<p>a = “abc”
   a.succ    #=&gt; “abd”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 908</span>

static mrb_value
mrb_str_succ_bang(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value result;
  unsigned char *p, *e, *b, *t;
  const char *prepend;
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(<span style="color:#069">self</span>);
  mrb_int l;

  <span style="color:#080;font-weight:bold">if</span> (RSTRING_LEN(<span style="color:#069">self</span>) == <span style="color:#00D">0</span>)
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;

  mrb_str_modify(mrb, s);
  l = RSTRING_LEN(<span style="color:#069">self</span>);
  b = p = (unsigned char*) RSTRING_PTR(<span style="color:#069">self</span>);
  t = e = p + l;
  *(e--) = <span style="color:#00D">0</span>;

  <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#404">/</span></span> find trailing ascii/number
  <span style="color:#080;font-weight:bold">while</span> (e &gt;= b) {
    <span style="color:#080;font-weight:bold">if</span> (ISALNUM(*e))
      <span style="color:#080;font-weight:bold">break</span>;
    e--;
  }
  <span style="color:#080;font-weight:bold">if</span> (e &lt; b) {
    e = p + l - <span style="color:#00D">1</span>;
    result = mrb_str_new_lit(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">else</span> {
    <span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#404">/</span></span> find leading letter of the ascii/number
    b = e;
    <span style="color:#080;font-weight:bold">while</span> (b &gt; p) {
      <span style="color:#080;font-weight:bold">if</span> (!ISALNUM(*b) || (ISALNUM(*b) &amp;&amp; *b != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">9</span><span style="color:#710">'</span></span> &amp;&amp; *b != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">z</span><span style="color:#710">'</span></span> &amp;&amp; *b != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Z</span><span style="color:#710">'</span></span>))
        <span style="color:#080;font-weight:bold">break</span>;
      b--;
    }
    <span style="color:#080;font-weight:bold">if</span> (!ISALNUM(*b))
      b++;
    result = mrb_str_new(mrb, (char*) p, b - p);
  }

  <span style="color:#080;font-weight:bold">while</span> (e &gt;= b) {
    <span style="color:#080;font-weight:bold">if</span> (!ISALNUM(*e)) {
      <span style="color:#080;font-weight:bold">if</span> (*e == <span style="color:#00D">0xff</span>) {
        mrb_str_cat_lit(mrb, result, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\x01</span><span style="color:#710">&quot;</span></span>);
        (*e) = <span style="color:#00D">0</span>;
      }
      <span style="color:#080;font-weight:bold">else</span>
        (*e)++;
      <span style="color:#080;font-weight:bold">break</span>;
    }
    prepend = <span style="color:#036;font-weight:bold">NULL</span>;
    <span style="color:#080;font-weight:bold">if</span> (*e == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">9</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (e == b) prepend = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1</span><span style="color:#710">&quot;</span></span>;
      *e = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">0</span><span style="color:#710">'</span></span>;
    }
    <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (*e == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">z</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (e == b) prepend = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a</span><span style="color:#710">&quot;</span></span>;
      *e = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span>;
    }
    <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (*e == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Z</span><span style="color:#710">'</span></span>) {
      <span style="color:#080;font-weight:bold">if</span> (e == b) prepend = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A</span><span style="color:#710">&quot;</span></span>;
      *e = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">A</span><span style="color:#710">'</span></span>;
    }
    <span style="color:#080;font-weight:bold">else</span> {
      (*e)++;
      <span style="color:#080;font-weight:bold">break</span>;
    }
    <span style="color:#080;font-weight:bold">if</span> (prepend) mrb_str_cat_cstr(mrb, result, prepend);
    e--;
  }
  result = mrb_str_cat(mrb, result, (char*) b, t - b);
  l = RSTRING_LEN(result);
  mrb_str_resize(mrb, <span style="color:#069">self</span>, l);
  memcpy(RSTRING_PTR(<span style="color:#069">self</span>), RSTRING_PTR(result), l);
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="swapcase-instance_method">
  
    #<strong>swapcase</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of <i>str</i> with uppercase alphabetic characters converted
to lowercase and lowercase characters converted to uppercase.
Note: case conversion is effective only in ASCII region.</p>

<p>“Hello”.swapcase          #=&gt; “hELLO”
   “cYbEr_PuNk11”.swapcase   #=&gt; “CyBeR_pUnK11”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142
143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 138</span>

static mrb_value
mrb_str_swapcase(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_swapcase_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="swapcase!-instance_method">
  
    #<strong>swapcase!</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Equivalent to <code>String#swapcase</code>, but modifies the receiver in
place, returning <i>str</i>, or <code>nil</code> if no changes were made.
Note: case conversion is effective only in ASCII region.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 101</span>

static mrb_value
mrb_str_swapcase_bang(mrb_state *mrb, mrb_value str)
{
  char *p, *pend;
  int modify = <span style="color:#00D">0</span>;
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);

  mrb_str_modify(mrb, s);
  p = RSTRING_PTR(str);
  pend = p + RSTRING_LEN(str);
  <span style="color:#080;font-weight:bold">while</span> (p &lt; pend) {
    <span style="color:#080;font-weight:bold">if</span> (ISUPPER(*p)) {
      *p = TOLOWER(*p);
      modify = <span style="color:#00D">1</span>;
    }
    <span style="color:#080;font-weight:bold">else</span> <span style="color:#080;font-weight:bold">if</span> (ISLOWER(*p)) {
      *p = TOUPPER(*p);
      modify = <span style="color:#00D">1</span>;
    }
    p++;
  }

  <span style="color:#080;font-weight:bold">if</span> (modify) <span style="color:#080;font-weight:bold">return</span> str;
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_f-instance_method">
  
    #<strong>to_f</strong>  &#x21d2; <tt><span class='object_link'><a href="Float.html" title="Float (class)">Float</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the result of interpreting leading characters in <i>str</i> as a
floating point number. Extraneous characters past the end of a valid number
are ignored. If there is not a valid number at the start of <i>str</i>,
<code>0.0</code> is returned. This method never raises an exception.</p>

<p>“123.45e1”.to_f        #=&gt; 1234.5
   “45.67 degrees”.to_f   #=&gt; 45.67
   “thx1138”.to_f         #=&gt; 0.0</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Float.html" title="Float (class)">Float</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2575
2576
2577
2578
2579</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2575</span>

static mrb_value
mrb_str_to_f(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_float_value(mrb, mrb_str_to_dbl(mrb, <span style="color:#069">self</span>, <span style="color:#069">FALSE</span>));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_i-instance_method">
  
    #<strong>to_i</strong>(base = 10)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the result of interpreting leading characters in <i>str</i> as an
integer base <i>base</i> (between 2 and 36). Extraneous characters past the
end of a valid number are ignored. If there is not a valid number at the
start of <i>str</i>, <code>0</code> is returned. This method never raises an
exception.</p>

<p>“12345”.to_i             #=&gt; 12345
   “99 red balloons”.to_i   #=&gt; 99
   “0a”.to_i                #=&gt; 0
   “0a”.to_i(16)            #=&gt; 10
   “hello”.to_i             #=&gt; 0
   “1100101”.to_i(2)        #=&gt; 101
   “1100101”.to_i(8)        #=&gt; 294977
   “1100101”.to_i(10)       #=&gt; 1100101
   “1100101”.to_i(16)       #=&gt; 17826049</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2481
2482
2483
2484
2485
2486
2487
2488
2489
2490
2491</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2481</span>

static mrb_value
mrb_str_to_i(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_int base = <span style="color:#00D">10</span>;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">|i</span><span style="color:#710">&quot;</span></span>, &amp;base);
  <span style="color:#080;font-weight:bold">if</span> (base &lt; <span style="color:#00D">0</span>) {
    mrb_raisef(mrb, <span style="color:#036;font-weight:bold">E_ARGUMENT_ERROR</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">illegal radix %i</span><span style="color:#710">&quot;</span></span>, base);
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_str_to_inum(mrb, <span style="color:#069">self</span>, base, <span style="color:#069">FALSE</span>);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the receiver.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2589
2590
2591
2592
2593
2594
2595
2596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2589</span>

static mrb_value
mrb_str_to_s(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">if</span> (mrb_obj_class(mrb, <span style="color:#069">self</span>) != mrb-&gt;string_class) {
    <span style="color:#080;font-weight:bold">return</span> mrb_str_dup(mrb, <span style="color:#069">self</span>);
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_str-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the receiver.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2589
2590
2591
2592
2593
2594
2595
2596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2589</span>

static mrb_value
mrb_str_to_s(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">if</span> (mrb_obj_class(mrb, <span style="color:#069">self</span>) != mrb-&gt;string_class) {
    <span style="color:#080;font-weight:bold">return</span> mrb_str_dup(mrb, <span style="color:#069">self</span>);
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_sym-instance_method">
  
    
      <span class="overload">#<strong>intern</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>to_sym</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the <code>Symbol</code> corresponding to <i>str</i>, creating the
symbol if it did not previously exist. See <code>Symbol#id2name</code>.</p>

<p>“Koala”.intern         #=&gt; :Koala
   s = ‘cat’.to_sym       #=&gt; :cat
   s == :cat              #=&gt; true
   s = ‘@cat’.to_sym      #=&gt; :@cat
   s == :@cat             #=&gt; true</p>

<p>This can also be used to create symbols that cannot be represented using the
<code>:xxx</code> notation.</p>

<p>‘cat and dog’.to_sym   #=&gt; :”cat and dog”</p>


  </div>
</div>
<div class="tags">
  

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1943
1944
1945
1946
1947</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 1943</span>

<span style="color:#036;font-weight:bold">MRB_API</span> mrb_value
mrb_str_intern(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  <span style="color:#080;font-weight:bold">return</span> mrb_symbol_value(mrb_intern_str(mrb, <span style="color:#069">self</span>));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tr-instance_method">
  
    #<strong>tr</strong>(from_str, to_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of str with the characters in from_str replaced by the
corresponding characters in to_str.  If to_str is shorter than from_str,
it is padded with its last character in order to maintain the
correspondence.</p>

<p>“hello”.tr(‘el’, ‘ip’)      #=&gt; “hippo”
 “hello”.tr(‘aeiou’, ‘<em>’)    #=&gt; “h</em>ll<em>”
 “hello”.tr(‘aeiou’, ‘AA</em>’)  #=&gt; “hAll*”</p>

<p>Both strings may use the c1-c2 notation to denote ranges of characters,
and from_str may start with a ^, which denotes all characters except
those listed.</p>

<p>“hello”.tr(‘a-y’, ‘b-z’)    #=&gt; “ifmmp”
 “hello”.tr(‘^aeiou’, ‘<em>’)   #=&gt; “</em>e**o”</p>

<p>The backslash character \ can be used to escape ^ or - and is otherwise
ignored unless it appears at the end of a range or the end of the
from_str or to_str:</p>

<p>“hello^world”.tr(“\^aeiou”, “<em>”) #=&gt; “h</em>ll<em>*w</em>rld”
 “hello-world”.tr(“a\-eo”, “<em>”)   #=&gt; “h</em>ll<em>*w</em>rld”</p>

<p>“hello\r\nworld”.tr(“\r”, “”)   #=&gt; “hello\nworld”
 “hello\r\nworld”.tr(“\r”, “”)  #=&gt; “hello\r\nwold”
 “hello\r\nworld”.tr(“\\r”, “”) #=&gt; “hello\nworld”</p>

<p>“X[’\b’]”.tr(“X\”, “”)   #=&gt; “[‘b’]”
 “X[’\b’]”.tr(“X-\]”, “”) #=&gt; “‘b’”</p>

<p>Note: conversion is effective only in ASCII region.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


576
577
578
579
580
581
582
583
584
585
586</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 576</span>

static mrb_value
mrb_str_tr(mrb_state *mrb, mrb_value str)
{
  mrb_value dup;
  mrb_value p1, p2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SS</span><span style="color:#710">&quot;</span></span>, &amp;p1, &amp;p2);
  dup = mrb_str_dup(mrb, str);
  str_tr(mrb, dup, p1, p2, <span style="color:#069">FALSE</span>);
  <span style="color:#080;font-weight:bold">return</span> dup;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tr!-instance_method">
  
    #<strong>tr!</strong>(from_str, to_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Translates str in place, using the same rules as String#tr.
Returns str, or nil if no changes were made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


595
596
597
598
599
600
601
602
603
604
605</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 595</span>

static mrb_value
mrb_str_tr_bang(mrb_state *mrb, mrb_value str)
{
  mrb_value p1, p2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SS</span><span style="color:#710">&quot;</span></span>, &amp;p1, &amp;p2);
  <span style="color:#080;font-weight:bold">if</span> (str_tr(mrb, str, p1, p2, <span style="color:#069">FALSE</span>)) {
    <span style="color:#080;font-weight:bold">return</span> str;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tr_s-instance_method">
  
    #<strong>tr_s</strong>(from_str, to_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Processes a copy of str as described under String#tr, then removes
duplicate characters in regions that were affected by the translation.</p>

<p>“hello”.tr_s(‘l’, ‘r’)     #=&gt; “hero”
 “hello”.tr_s(‘el’, ‘<em>’)    #=&gt; “h</em>o”
 “hello”.tr_s(‘el’, ‘hx’)   #=&gt; “hhxo”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


618
619
620
621
622
623
624
625
626
627
628</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 618</span>

static mrb_value
mrb_str_tr_s(mrb_state *mrb, mrb_value str)
{
  mrb_value dup;
  mrb_value p1, p2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SS</span><span style="color:#710">&quot;</span></span>, &amp;p1, &amp;p2);
  dup = mrb_str_dup(mrb, str);
  str_tr(mrb, dup, p1, p2, <span style="color:#069">TRUE</span>);
  <span style="color:#080;font-weight:bold">return</span> dup;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tr_s!-instance_method">
  
    #<strong>tr_s!</strong>(from_str, to_str)  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Performs String#tr_s processing on str in place, returning
str, or nil if no changes were made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


637
638
639
640
641
642
643
644
645
646
647</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/src/string.c', line 637</span>

static mrb_value
mrb_str_tr_s_bang(mrb_state *mrb, mrb_value str)
{
  mrb_value p1, p2;

  mrb_get_args(mrb, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SS</span><span style="color:#710">&quot;</span></span>, &amp;p1, &amp;p2);
  <span style="color:#080;font-weight:bold">if</span> (str_tr(mrb, str, p1, p2, <span style="color:#069">TRUE</span>)) {
    <span style="color:#080;font-weight:bold">return</span> str;
  }
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="underscore-instance_method">
  
    #<strong>underscore</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2
3
4
5
6
7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/carbuncle-support/mrblib/string.rb', line 2</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">underscore</span>
  gsub(<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">::</span><span style="color:#404">/</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">/</span><span style="color:#710">'</span></span>)
    .gsub(<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">([A-Z]+)([A-Z][a-z])</span><span style="color:#404">/</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\1</span><span style="color:#D20">_</span><span style="color:#D20">\2</span><span style="color:#710">'</span></span>)
    .gsub(<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">([a-z</span><span style="color:#D20">\d</span><span style="color:#808">])([A-Z])</span><span style="color:#404">/</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">\1</span><span style="color:#D20">_</span><span style="color:#D20">\2</span><span style="color:#710">'</span></span>)
    .tr(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">-</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">_</span><span style="color:#710">'</span></span>)
    .tr(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20"> </span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">_</span><span style="color:#710">'</span></span>)
    .downcase
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upcase-instance_method">
  
    #<strong>upcase</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a copy of <i>str</i> with all lowercase letters replaced with their
uppercase counterparts. The operation is locale insensitive—only
characters ‘a’ to ‘z’ are affected.</p>

<p>“hEllO”.upcase   #=&gt; “HELLO”</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2639
2640
2641
2642
2643
2644
2645
2646
2647</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2639</span>

static mrb_value
mrb_str_upcase(mrb_state *mrb, mrb_value <span style="color:#069">self</span>)
{
  mrb_value str;

  str = mrb_str_dup(mrb, <span style="color:#069">self</span>);
  mrb_str_upcase_bang(mrb, str);
  <span style="color:#080;font-weight:bold">return</span> str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upcase!-instance_method">
  
    #<strong>upcase!</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Upcases the contents of <i>str</i>, returning <code>nil</code> if no changes
were made.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>




</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2606
2607
2608
2609
2610
2611
2612
2613
2614
2615
2616
2617
2618
2619
2620
2621
2622
2623
2624
2625
2626</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'src/string.c', line 2606</span>

static mrb_value
mrb_str_upcase_bang(mrb_state *mrb, mrb_value str)
{
  struct <span style="color:#036;font-weight:bold">RString</span> *s = mrb_str_ptr(str);
  char *p, *pend;
  mrb_bool modify = <span style="color:#069">FALSE</span>;

  mrb_str_modify_keep_ascii(mrb, s);
  p = RSTRING_PTR(str);
  pend = RSTRING_END(str);
  <span style="color:#080;font-weight:bold">while</span> (p &lt; pend) {
    <span style="color:#080;font-weight:bold">if</span> (ISLOWER(*p)) {
      *p = TOUPPER(*p);
      modify = <span style="color:#069">TRUE</span>;
    }
    p++;
  }

  <span style="color:#080;font-weight:bold">if</span> (modify) <span style="color:#080;font-weight:bold">return</span> str;
  <span style="color:#080;font-weight:bold">return</span> mrb_nil_value();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="upto-instance_method">
  
    #<strong>upto</strong>(max, exclusive = false, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>call-seq:
    str.upto(other_str, exclusive=false) {|s| block }   -&gt; str
    str.upto(other_str, exclusive=false)                -&gt; an_enumerator</p>

<p>Iterates through successive values, starting at <i>str</i> and
 ending at <i>other_str</i> inclusive, passing each value in turn to
 the block. The <code>String#succ</code> method is used to generate
 each value.  If optional second argument exclusive is omitted or is false,
 the last value will be included; otherwise it will be excluded.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code ruby"><code class="ruby"><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a8</span><span style="color:#710">&quot;</span></span>.upto(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b6</span><span style="color:#710">&quot;</span></span>) {|s| print s, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20"> </span><span style="color:#710">'</span></span> }
<span style="color:#080;font-weight:bold">for</span> s <span style="color:#080;font-weight:bold">in</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">a8</span><span style="color:#710">&quot;</span></span>..<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">b6</span><span style="color:#710">&quot;</span></span>
  print s, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20"> </span><span style="color:#710">'</span></span>
<span style="color:#080;font-weight:bold">end</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code ruby"><code class="ruby">a8 a9 b0 b1 b2 b3 b4 b5 b6
a8 a9 b0 b1 b2 b3 b4 b5 b6
</code></pre>

<p>If <i>str</i> and <i>other_str</i> contains only ascii numeric characters,
 both are recognized as decimal numbers. In addition, the width of
 string (e.g. leading zeros) is handled appropriately.</p>

<pre class="code ruby"><code class="ruby"><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">9</span><span style="color:#710">&quot;</span></span>.upto(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">11</span><span style="color:#710">&quot;</span></span>).to_a   <span style="color:#777">#=&gt; [&quot;9&quot;, &quot;10&quot;, &quot;11&quot;]</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">25</span><span style="color:#710">&quot;</span></span>.upto(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">5</span><span style="color:#710">&quot;</span></span>).to_a   <span style="color:#777">#=&gt; []</span>
<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">07</span><span style="color:#710">&quot;</span></span>.upto(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">11</span><span style="color:#710">&quot;</span></span>).to_a  <span style="color:#777">#=&gt; [&quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, &quot;11&quot;]</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-string-ext/mrblib/string.rb', line 405</span>

<span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">upto</span>(max, exclusive=<span style="color:#069">false</span>, &amp;block)
  <span style="color:#080;font-weight:bold">return</span> to_enum(<span style="color:#A60">:upto</span>, max, exclusive) <span style="color:#080;font-weight:bold">unless</span> block
  raise <span style="color:#036;font-weight:bold">TypeError</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">no implicit conversion of </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>max.class<span style="font-weight:bold;color:#666">}</span></span><span style="color:#D20"> into String</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">unless</span> max.kind_of? <span style="color:#036;font-weight:bold">String</span>

  len = <span style="color:#069">self</span>.length
  maxlen = max.length
  <span style="color:#777"># single character</span>
  <span style="color:#080;font-weight:bold">if</span> len == <span style="color:#00D">1</span> <span style="color:#080;font-weight:bold">and</span> maxlen == <span style="color:#00D">1</span>
    c = <span style="color:#069">self</span>.ord
    e = max.ord
    <span style="color:#080;font-weight:bold">while</span> c &lt;= e
      <span style="color:#080;font-weight:bold">break</span> <span style="color:#080;font-weight:bold">if</span> exclusive <span style="color:#080;font-weight:bold">and</span> c == e
      <span style="color:#080;font-weight:bold">yield</span> c.chr(<span style="color:#069">__ENCODING__</span>)
      c += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#777"># both edges are all digits</span>
  bi = <span style="color:#069">self</span>.to_i(<span style="color:#00D">10</span>)
  ei = max.to_i(<span style="color:#00D">10</span>)
  len = <span style="color:#069">self</span>.length
  <span style="color:#080;font-weight:bold">if</span> (bi &gt; <span style="color:#00D">0</span> <span style="color:#080;font-weight:bold">or</span> bi == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">0</span><span style="color:#710">&quot;</span></span>*len) <span style="color:#080;font-weight:bold">and</span> (ei &gt; <span style="color:#00D">0</span> <span style="color:#080;font-weight:bold">or</span> ei == <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">0</span><span style="color:#710">&quot;</span></span>*maxlen)
    <span style="color:#080;font-weight:bold">while</span> bi &lt;= ei
      <span style="color:#080;font-weight:bold">break</span> <span style="color:#080;font-weight:bold">if</span> exclusive <span style="color:#080;font-weight:bold">and</span> bi == ei
      s = bi.to_s
      s = s.rjust(len, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">0</span><span style="color:#710">&quot;</span></span>) <span style="color:#080;font-weight:bold">if</span> s.length &lt; len
      <span style="color:#080;font-weight:bold">yield</span> s
      bi += <span style="color:#00D">1</span>
    <span style="color:#080;font-weight:bold">end</span>
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">end</span>
  bs = <span style="color:#069">self</span>
  <span style="color:#080;font-weight:bold">while</span> <span style="color:#069">true</span>
    n = (bs &lt;=&gt; max)
    <span style="color:#080;font-weight:bold">break</span> <span style="color:#080;font-weight:bold">if</span> n &gt; <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">break</span> <span style="color:#080;font-weight:bold">if</span> exclusive <span style="color:#080;font-weight:bold">and</span> n == <span style="color:#00D">0</span>
    <span style="color:#080;font-weight:bold">yield</span> bs
    <span style="color:#080;font-weight:bold">break</span> <span style="color:#080;font-weight:bold">if</span> n == <span style="color:#00D">0</span>
    bs = bs.succ
  <span style="color:#080;font-weight:bold">end</span>
  <span style="color:#069">self</span>
<span style="color:#080;font-weight:bold">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Dec 28 01:23:11 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 in <a href="https://github.com/sagmor/yard-mruby">mruby mode</a> 0.3.0 (ruby-2.6.2).
</div>

    </div>
  </body>
</html>